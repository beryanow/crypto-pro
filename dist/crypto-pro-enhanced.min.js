!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("cryptoPro",[],n):"object"==typeof exports?exports.cryptoPro=n():e.cryptoPro=n()}(window,(function(){return function(e){var n={};function r(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=n,r.d=function(e,n,t){r.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,n){if(1&n&&(e=r(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)r.d(t,a,function(n){return e[n]}.bind(null,a));return t},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.p="",r(r.s=11)}([function(e,n,r){"use strict";var t=this&&this.__awaiter||function(e,n,r,t){return new(r||(r=Promise))((function(a,_){function o(e){try{i(t.next(e))}catch(e){_(e)}}function s(e){try{i(t.throw(e))}catch(e){_(e)}}function i(e){var n;e.done?a(e.value):(n=e.value,n instanceof r?n:new r((function(e){e(n)}))).then(o,s)}i((t=t.apply(e,n||[])).next())}))},a=this&&this.__generator||function(e,n){var r,t,a,_,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return _={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(_[Symbol.iterator]=function(){return this}),_;function s(_){return function(s){return function(_){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,t&&(a=2&_[0]?t.return:_[0]?t.throw||((a=t.return)&&a.call(t),0):t.next)&&!(a=a.call(t,_[1])).done)return a;switch(t=0,a&&(_=[2&_[0],a.value]),_[0]){case 0:case 1:a=_;break;case 4:return o.label++,{value:_[1],done:!1};case 5:o.label++,t=_[1],_=[0];continue;case 7:_=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==_[0]&&2!==_[0])){o=0;continue}if(3===_[0]&&(!a||_[1]>a[0]&&_[1]<a[3])){o.label=_[1];break}if(6===_[0]&&o.label<a[1]){o.label=a[1],a=_;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(_);break}a[2]&&o.ops.pop(),o.trys.pop();continue}_=n.call(e,o)}catch(e){_=[6,e],t=0}finally{r=a=0}if(5&_[0])throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}([_,s])}}};Object.defineProperty(n,"__esModule",{value:!0});var _=r(1),o=!1,s=!1;n._afterPluginsLoaded=function(e){var n=Boolean(window.Promise);return function(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];return t(this,void 0,void 0,(function(){var t,c;return a(this,(function(a){switch(a.label){case 0:if(!s){try{r(5)}catch(e){throw console.error(e),new Error(_._extractMeaningfulErrorMessage(e)||"Ошибка при подключении модуля для работы с Cades plugin")}s=!0}if(t=window.cadesplugin,!n)throw new Error("Необходим полифилл для Promise");if(!t)throw new Error("Не подключен модуль для работы с Cades plugin");o||(t.set_log_level(t.LOG_LEVEL_ERROR),o=!0),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,t];case 2:return a.sent(),[3,4];case 3:throw c=a.sent(),console.error(c),new Error(_._extractMeaningfulErrorMessage(c)||"Ошибка при инициализации модуля для работы с Cades plugin");case 4:return[4,e.apply(this,i)];case 5:return[2,a.sent()]}}))}))}}},function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n._extractMeaningfulErrorMessage=function(e){var n,r=(null===(n=window.cadesplugin)||void 0===n?void 0:n.getLastError)&&window.cadesplugin.getLastError(e);if(!(null==r?void 0:r.message)){if(!e.message)return null;r=e}if(!/[а-яА-Я]/.test(r.message))return null;var t=r.message.match(/^(.*?)(?:(?:\.?\s?\(?0x)|(?:\.?$))/);return t?t[1]:null}},function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.__cadesAsyncToken__={},n.__createCadesPluginObject__=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return{}},n._generateCadesFn=function(e){var n,r=window.cadesplugin,t=Boolean(r.CreateObjectAsync),a=e.name||"dynamicFn",_=String(e),o=(null===(n=_.match(/^function[\s\w]*?\((.*?)\)/))||void 0===n?void 0:n[1])||"",s=_.replace(/^.*?{([\s\S]*?)}$/,"$1"),i=String(new(t?new Function("","return Object.getPrototypeOf(function*(){}).constructor")():Function)(o,s));return i=(i=i.replace(/(?:\w+?\.)?__createCadesPluginObject__(\([\s\S]*?\))/gm,"cadesplugin.CreateObject"+(t?"Async":"")+"$1")).replace(/(?:\w+?\.)?__cadesAsyncToken__\s*?\+\s*?\b/gm,t?"yield ":""),t||(i=i.replace(/propset_(.*?)\((.*?)\)/gm,"$1 = $2")),[t?"cadesplugin.async_spawn("+i+");":"("+i+")();","//# sourceURL=crypto-pro-enhanced_"+a+".js"].join("")}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _afterPluginsLoaded_1=__webpack_require__(0),_extractMeaningfulErrorMessage_1=__webpack_require__(1),_generateCadesFn_1=__webpack_require__(2);exports._getCadesCert=_afterPluginsLoaded_1._afterPluginsLoaded((function(thumbprint){var cadesplugin=window.cadesplugin;return eval(_generateCadesFn_1._generateCadesFn((function(){var e,n,r,t;try{e=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CAdESCOM.Store")}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при попытке доступа к хранилищу")}if(!e)throw new Error("Не удалось получить доступ к хранилищу сертификатов");try{_generateCadesFn_1.__cadesAsyncToken__,e.Open(cadesplugin.CADESCOM_CONTAINER_STORE,cadesplugin.CAPICOM_MY_STORE,cadesplugin.CAPICOM_STORE_OPEN_MAXIMUM_ALLOWED)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при открытии хранилища")}try{n=_generateCadesFn_1.__cadesAsyncToken__+e.Certificates,r=_generateCadesFn_1.__cadesAsyncToken__+n.Count}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка получения списка сертификатов")}if(!r)throw new Error("Нет доступных сертификатов");try{if(n=_generateCadesFn_1.__cadesAsyncToken__+n.Find(cadesplugin.CAPICOM_CERTIFICATE_FIND_SHA1_HASH,thumbprint),!(_generateCadesFn_1.__cadesAsyncToken__+n.Count))throw new Error('Сертификат с отпечатком: "'+thumbprint+'" не найден');t=_generateCadesFn_1.__cadesAsyncToken__+n.Item(1)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при получении сертификата")}return e.Close(),t})))}))},function(e,n,r){"use strict";function t(e){for(var r in e)n.hasOwnProperty(r)||(n[r]=e[r])}Object.defineProperty(n,"__esModule",{value:!0}),t(r(15)),t(r(16)),t(r(17)),t(r(18))},function(module,exports){!function(){if(!window.cadesplugin){var pluginObject,plugin_resolved=0,plugin_reject,plugin_resolve,isOpera=0,isFireFox=0,isSafari=0,isYandex=0,canPromise=!!window.Promise,cadesplugin_loaded_event_recieved=!1,isFireFoxExtensionLoaded=!1,cadesplugin;cadesplugin=canPromise?new Promise((function(e,n){plugin_resolve=e,plugin_reject=n})):{};var browserSpecs=check_browser(),ru_cryptopro_npcades_10_native_bridge={callbacksCount:1,callbacks:{},resultForCallback:function(e,n){var r=ru_cryptopro_npcades_10_native_bridge.callbacks[e];r&&r.apply(null,n)},call:function(e,n,r){var t=r&&"function"==typeof r,a=t?ru_cryptopro_npcades_10_native_bridge.callbacksCount++:0;t&&(ru_cryptopro_npcades_10_native_bridge.callbacks[a]=r);var _=document.createElement("IFRAME"),o=new Array("_CPNP_handle");try{_.setAttribute("src","cpnp-js-call:"+e+":"+a+":"+encodeURIComponent(JSON.stringify(n,o)))}catch(e){alert(e)}document.documentElement.appendChild(_),_.parentNode.removeChild(_),_=null}};cadesplugin.JSModuleVersion="2.3.2",cadesplugin.async_spawn=async_spawn,cadesplugin.set=set_pluginObject,cadesplugin.set_log_level=set_log_level,cadesplugin.getLastError=getLastError,cadesplugin.is_capilite_enabled=is_capilite_enabled,isNativeMessageSupported()&&(cadesplugin.CreateObjectAsync=CreateObjectAsync,cadesplugin.ReleasePluginObjects=ReleasePluginObjects),isNativeMessageSupported()||(cadesplugin.CreateObject=CreateObject),window.cadesplugin_load_timeout?setTimeout(check_load_timeout,window.cadesplugin_load_timeout):setTimeout(check_load_timeout,3e3),set_constantValues(),cadesplugin.current_log_level=cadesplugin.LOG_LEVEL_ERROR,window.cadesplugin=cadesplugin,check_plugin_working()}function check_browser(){var e,n=navigator.userAgent,r=n.match(/(opera|yabrowser|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(r[1])?{name:"IE",version:(e=/\brv[ :]+(\d+)/g.exec(n)||[])[1]||""}:"Chrome"===r[1]&&null!=(e=n.match(/\b(OPR|Edg|YaBrowser)\/(\d+)/))?{name:e[1].replace("OPR","Opera"),version:e[2]}:(r=r[2]?[r[1],r[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=n.match(/version\/(\d+)/i))&&r.splice(1,1,e[1]),{name:r[0],version:r[1]})}function cpcsp_console_log(e,n){if("undefined"!=typeof console)return e<=cadesplugin.current_log_level?(e===cadesplugin.LOG_LEVEL_DEBUG&&console.log("DEBUG: %s",n),e===cadesplugin.LOG_LEVEL_INFO&&console.info("INFO: %s",n),void(e===cadesplugin.LOG_LEVEL_ERROR&&console.error("ERROR: %s",n))):void 0}function set_log_level(e){e===cadesplugin.LOG_LEVEL_DEBUG||e===cadesplugin.LOG_LEVEL_INFO||e===cadesplugin.LOG_LEVEL_ERROR?(cadesplugin.current_log_level=e,cadesplugin.current_log_level===cadesplugin.LOG_LEVEL_DEBUG&&cpcsp_console_log(cadesplugin.LOG_LEVEL_INFO,"cadesplugin_api.js: log_level = DEBUG"),cadesplugin.current_log_level===cadesplugin.LOG_LEVEL_INFO&&cpcsp_console_log(cadesplugin.LOG_LEVEL_INFO,"cadesplugin_api.js: log_level = INFO"),cadesplugin.current_log_level===cadesplugin.LOG_LEVEL_ERROR&&cpcsp_console_log(cadesplugin.LOG_LEVEL_INFO,"cadesplugin_api.js: log_level = ERROR"),isNativeMessageSupported()&&(cadesplugin.current_log_level===cadesplugin.LOG_LEVEL_DEBUG&&window.postMessage("set_log_level=debug","*"),cadesplugin.current_log_level===cadesplugin.LOG_LEVEL_INFO&&window.postMessage("set_log_level=info","*"),cadesplugin.current_log_level===cadesplugin.LOG_LEVEL_ERROR&&window.postMessage("set_log_level=error","*"))):cpcsp_console_log(cadesplugin.LOG_LEVEL_ERROR,"cadesplugin_api.js: Incorrect log_level: "+e)}function set_constantValues(){cadesplugin.CAPICOM_MEMORY_STORE=0,cadesplugin.CAPICOM_LOCAL_MACHINE_STORE=1,cadesplugin.CAPICOM_CURRENT_USER_STORE=2,cadesplugin.CAPICOM_SMART_CARD_USER_STORE=4,cadesplugin.CADESCOM_MEMORY_STORE=0,cadesplugin.CADESCOM_LOCAL_MACHINE_STORE=1,cadesplugin.CADESCOM_CURRENT_USER_STORE=2,cadesplugin.CADESCOM_SMART_CARD_USER_STORE=4,cadesplugin.CADESCOM_CONTAINER_STORE=100,cadesplugin.CAPICOM_MY_STORE="My",cadesplugin.CAPICOM_STORE_OPEN_MAXIMUM_ALLOWED=2,cadesplugin.CAPICOM_CERTIFICATE_FIND_SUBJECT_NAME=1,cadesplugin.CADESCOM_XML_SIGNATURE_TYPE_ENVELOPED=0,cadesplugin.CADESCOM_XML_SIGNATURE_TYPE_ENVELOPING=1,cadesplugin.CADESCOM_XML_SIGNATURE_TYPE_TEMPLATE=2,cadesplugin.CADESCOM_XADES_DEFAULT=16,cadesplugin.CADESCOM_XADES_BES=32,cadesplugin.CADESCOM_XADES_T=80,cadesplugin.CADESCOM_XADES_X_LONG_TYPE_1=1488,cadesplugin.CADESCOM_XMLDSIG_TYPE=0,cadesplugin.XmlDsigGost3410UrlObsolete="http://www.w3.org/2001/04/xmldsig-more#gostr34102001-gostr3411",cadesplugin.XmlDsigGost3411UrlObsolete="http://www.w3.org/2001/04/xmldsig-more#gostr3411",cadesplugin.XmlDsigGost3410Url="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34102001-gostr3411",cadesplugin.XmlDsigGost3411Url="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr3411",cadesplugin.XmlDsigGost3411Url2012256="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34112012-256",cadesplugin.XmlDsigGost3410Url2012256="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34102012-gostr34112012-256",cadesplugin.XmlDsigGost3411Url2012512="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34112012-512",cadesplugin.XmlDsigGost3410Url2012512="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34102012-gostr34112012-512",cadesplugin.CADESCOM_CADES_DEFAULT=0,cadesplugin.CADESCOM_CADES_BES=1,cadesplugin.CADESCOM_CADES_T=5,cadesplugin.CADESCOM_CADES_X_LONG_TYPE_1=93,cadesplugin.CADESCOM_PKCS7_TYPE=65535,cadesplugin.CADESCOM_ENCODE_BASE64=0,cadesplugin.CADESCOM_ENCODE_BINARY=1,cadesplugin.CADESCOM_ENCODE_ANY=-1,cadesplugin.CAPICOM_CERTIFICATE_INCLUDE_CHAIN_EXCEPT_ROOT=0,cadesplugin.CAPICOM_CERTIFICATE_INCLUDE_WHOLE_CHAIN=1,cadesplugin.CAPICOM_CERTIFICATE_INCLUDE_END_ENTITY_ONLY=2,cadesplugin.CAPICOM_CERT_INFO_SUBJECT_SIMPLE_NAME=0,cadesplugin.CAPICOM_CERT_INFO_ISSUER_SIMPLE_NAME=1,cadesplugin.CAPICOM_CERTIFICATE_FIND_SHA1_HASH=0,cadesplugin.CAPICOM_CERTIFICATE_FIND_SUBJECT_NAME=1,cadesplugin.CAPICOM_CERTIFICATE_FIND_ISSUER_NAME=2,cadesplugin.CAPICOM_CERTIFICATE_FIND_ROOT_NAME=3,cadesplugin.CAPICOM_CERTIFICATE_FIND_TEMPLATE_NAME=4,cadesplugin.CAPICOM_CERTIFICATE_FIND_EXTENSION=5,cadesplugin.CAPICOM_CERTIFICATE_FIND_EXTENDED_PROPERTY=6,cadesplugin.CAPICOM_CERTIFICATE_FIND_APPLICATION_POLICY=7,cadesplugin.CAPICOM_CERTIFICATE_FIND_CERTIFICATE_POLICY=8,cadesplugin.CAPICOM_CERTIFICATE_FIND_TIME_VALID=9,cadesplugin.CAPICOM_CERTIFICATE_FIND_TIME_NOT_YET_VALID=10,cadesplugin.CAPICOM_CERTIFICATE_FIND_TIME_EXPIRED=11,cadesplugin.CAPICOM_CERTIFICATE_FIND_KEY_USAGE=12,cadesplugin.CAPICOM_DIGITAL_SIGNATURE_KEY_USAGE=128,cadesplugin.CAPICOM_PROPID_ENHKEY_USAGE=9,cadesplugin.CAPICOM_OID_OTHER=0,cadesplugin.CAPICOM_OID_KEY_USAGE_EXTENSION=10,cadesplugin.CAPICOM_EKU_CLIENT_AUTH=2,cadesplugin.CAPICOM_EKU_SMARTCARD_LOGON=5,cadesplugin.CAPICOM_EKU_OTHER=0,cadesplugin.CAPICOM_AUTHENTICATED_ATTRIBUTE_SIGNING_TIME=0,cadesplugin.CAPICOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_NAME=1,cadesplugin.CAPICOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_DESCRIPTION=2,cadesplugin.CADESCOM_AUTHENTICATED_ATTRIBUTE_SIGNING_TIME=0,cadesplugin.CADESCOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_NAME=1,cadesplugin.CADESCOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_DESCRIPTION=2,cadesplugin.CADESCOM_AUTHENTICATED_ATTRIBUTE_MACHINE_INFO=256,cadesplugin.CADESCOM_ATTRIBUTE_OTHER=-1,cadesplugin.CADESCOM_STRING_TO_UCS2LE=0,cadesplugin.CADESCOM_BASE64_TO_BINARY=1,cadesplugin.CADESCOM_DISPLAY_DATA_NONE=0,cadesplugin.CADESCOM_DISPLAY_DATA_CONTENT=1,cadesplugin.CADESCOM_DISPLAY_DATA_ATTRIBUTE=2,cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_RC2=0,cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_RC4=1,cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_DES=2,cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_3DES=3,cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_AES=4,cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_GOST_28147_89=25,cadesplugin.CADESCOM_HASH_ALGORITHM_SHA1=0,cadesplugin.CADESCOM_HASH_ALGORITHM_MD2=1,cadesplugin.CADESCOM_HASH_ALGORITHM_MD4=2,cadesplugin.CADESCOM_HASH_ALGORITHM_MD5=3,cadesplugin.CADESCOM_HASH_ALGORITHM_SHA_256=4,cadesplugin.CADESCOM_HASH_ALGORITHM_SHA_384=5,cadesplugin.CADESCOM_HASH_ALGORITHM_SHA_512=6,cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411=100,cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256=101,cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_512=102,cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_HMAC=110,cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256_HMAC=111,cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_512_HMAC=112,cadesplugin.LOG_LEVEL_DEBUG=4,cadesplugin.LOG_LEVEL_INFO=2,cadesplugin.LOG_LEVEL_ERROR=1,cadesplugin.CADESCOM_AllowNone=0,cadesplugin.CADESCOM_AllowNoOutstandingRequest=1,cadesplugin.CADESCOM_AllowUntrustedCertificate=2,cadesplugin.CADESCOM_AllowUntrustedRoot=4,cadesplugin.CADESCOM_SkipInstallToStore=268435456,cadesplugin.CADESCOM_InstallCertChainToContainer=536870912,cadesplugin.CADESCOM_UseContainerStore=1073741824,cadesplugin.ENABLE_CARRIER_TYPE_CSP=1,cadesplugin.ENABLE_CARRIER_TYPE_FKC_NO_SM=2,cadesplugin.ENABLE_CARRIER_TYPE_FKC_SM=4,cadesplugin.ENABLE_ANY_CARRIER_TYPE=7,cadesplugin.DISABLE_EVERY_CARRIER_OPERATION=0,cadesplugin.ENABLE_CARRIER_OPEN_ENUM=1,cadesplugin.ENABLE_CARRIER_CREATE=2,cadesplugin.ENABLE_ANY_OPERATION=3,cadesplugin.CADESCOM_PRODUCT_CSP=0,cadesplugin.CADESCOM_PRODUCT_OCSP=1,cadesplugin.CADESCOM_PRODUCT_TSP=2,cadesplugin.MEDIA_TYPE_REGISTRY=1,cadesplugin.MEDIA_TYPE_HDIMAGE=2,cadesplugin.MEDIA_TYPE_CLOUD=4,cadesplugin.MEDIA_TYPE_SCARD=8,cadesplugin.XCN_CRYPT_STRING_BASE64HEADER=0,cadesplugin.AT_KEYEXCHANGE=1,cadesplugin.AT_SIGNATURE=2,cadesplugin.CARRIER_FLAG_REMOVABLE=1,cadesplugin.CARRIER_FLAG_UNIQUE=2,cadesplugin.CARRIER_FLAG_PROTECTED=4,cadesplugin.CARRIER_FLAG_FUNCTIONAL_CARRIER=8,cadesplugin.CARRIER_FLAG_SECURE_MESSAGING=16,cadesplugin.CARRIER_FLAG_ABLE_VISUALISE_SIGNATURE=64,cadesplugin.CARRIER_FLAG_VIRTUAL=128}function async_spawn(e){function n(e,n){var _;try{_=r[e](n)}catch(e){return Promise.reject(e)}return _.done?_.value:Promise.resolve(_.value).then(t,a)}var r=e(Array.prototype.slice.call(arguments,1)),t=n.bind(n,"next"),a=n.bind(n,"throw");return t()}function isIE(){return"IE"===browserSpecs.name||"MSIE"===browserSpecs.name}function isIOS(){return navigator.userAgent.match(/ipod/i)||navigator.userAgent.match(/ipad/i)||navigator.userAgent.match(/iphone/i)}function isNativeMessageSupported(){return!isIE()&&("Edg"===browserSpecs.name||("YaBrowser"===browserSpecs.name?(isYandex=!0,!0):"Opera"===browserSpecs.name?(isOpera=!0,browserSpecs.version>=33):"Firefox"===browserSpecs.name?(isFireFox=!0,browserSpecs.version>=52):"Chrome"===browserSpecs.name?browserSpecs.version>=42:"Safari"===browserSpecs.name?(isSafari=!0,browserSpecs.version>=12):void 0))}function CreateObject(e){if(isIOS())return call_ru_cryptopro_npcades_10_native_bridge("CreateObject",[e]);if(isIE()){if(e.match(/X509Enrollment/i))try{return document.getElementById("webClassFactory").CreateObject(e)}catch(n){try{return document.getElementById("certEnrollClassFactory").CreateObject(e)}catch(e){throw"Для создания обьектов X509Enrollment следует настроить веб-узел на использование проверки подлинности по протоколу HTTPS"}}try{return document.getElementById("webClassFactory").CreateObject(e)}catch(n){return new ActiveXObject(e)}}return pluginObject.CreateObject(e)}function decimalToHexString(e){return e<0&&(e=4294967295+e+1),e.toString(16).toUpperCase()}function GetMessageFromException(e){var n=e.message;return n?e.number&&(n+=" (0x"+decimalToHexString(e.number)+")"):n=e,n}function getLastError(e){if(isNativeMessageSupported()||isIE()||isIOS())return GetMessageFromException(e);try{return pluginObject.getLastError()}catch(n){return GetMessageFromException(e)}}function ReleasePluginObjects(){return cpcsp_chrome_nmcades.ReleasePluginObjects()}function CreateObjectAsync(e){return pluginObject.CreateObjectAsync(e)}function call_ru_cryptopro_npcades_10_native_bridge(functionName,array){var tmpobj,ex;if(ru_cryptopro_npcades_10_native_bridge.call(functionName,array,(function(e,response){ex=e;var str="tmpobj="+response;eval(str),"string"==typeof tmpobj&&(tmpobj=tmpobj.replace(/\\\n/gm,"\n"),tmpobj=tmpobj.replace(/\\\r/gm,"\r"))})),ex)throw ex;return tmpobj}function show_firefox_missing_extension_dialog(){if(!window.cadesplugin_skip_extension_install){var e=document.createElement("div");e.id="cadesplugin_ovr",e.style="visibility: hidden; position: fixed; left: 0px; top: 0px; width:100%; height:100%; background-color: rgba(0,0,0,0.7)",e.innerHTML="<div id='cadesplugin_ovr_item' style='position:relative; width:400px; margin:100px auto; background-color:#fff; border:2px solid #000; padding:10px; text-align:center; opacity: 1; z-index: 1500'><button id='cadesplugin_close_install' style='float: right; font-size: 10px; background: transparent; border: 1; margin: -5px'>X</button><p>Для работы КриптоПро ЭЦП Browser plugin на данном сайте необходимо расширение для браузера. Убедитесь, что оно у Вас включено или установите его.<p><a href='https://www.cryptopro.ru/sites/default/files/products/cades/extensions/firefox_cryptopro_extension_latest.xpi'>Скачать расширение</a></p></div>",document.getElementsByTagName("Body")[0].appendChild(e),document.getElementById("cadesplugin_close_install").addEventListener("click",(function(){plugin_loaded_error("Плагин недоступен"),document.getElementById("cadesplugin_ovr").style.visibility="hidden"})),e.addEventListener("click",(function(){plugin_loaded_error("Плагин недоступен"),document.getElementById("cadesplugin_ovr").style.visibility="hidden"})),e.style.visibility="visible"}}function firefox_or_safari_nmcades_onload(){window.cadesplugin_extension_loaded_callback&&window.cadesplugin_extension_loaded_callback(),isFireFoxExtensionLoaded=!0,cpcsp_chrome_nmcades.check_chrome_plugin(plugin_loaded,plugin_loaded_error)}function nmcades_api_onload(){isIE()||isFireFox||isSafari||window.cadesplugin_extension_loaded_callback&&window.cadesplugin_extension_loaded_callback(),window.postMessage("cadesplugin_echo_request","*"),window.addEventListener("message",(function(e){if("string"==typeof e.data&&e.data.match("cadesplugin_loaded")&&!cadesplugin_loaded_event_recieved){if(isFireFox||isSafari){var n=e.data.substring(e.data.indexOf("url:")+4);if(!n.match("^moz-extension://[a-zA-Z0-9-]+/nmcades_plugin_api.js$")&&!n.match("^safari-extension://[a-zA-Z0-9-]+/[a-zA-Z0-9]+/nmcades_plugin_api.js$"))return cpcsp_console_log(cadesplugin.LOG_LEVEL_ERROR,'Bad url "'+n+'" for load CryptoPro Extension for CAdES Browser plug-in'),void plugin_loaded_error();var r=document.createElement("script");r.setAttribute("type","text/javascript"),r.setAttribute("src",n),r.onerror=plugin_loaded_error,r.onload=firefox_or_safari_nmcades_onload,document.getElementsByTagName("head")[0].appendChild(r)}else cpcsp_chrome_nmcades.check_chrome_plugin(plugin_loaded,plugin_loaded_error);cadesplugin_loaded_event_recieved=!0}}),!1)}function load_extension(){var e;isFireFox||isSafari?nmcades_api_onload():isOpera||isYandex?((e=document.createElement("script")).setAttribute("type","text/javascript"),e.setAttribute("src","chrome-extension://epebfcehmdedogndhlcacafjaacknbcm/nmcades_plugin_api.js"),e.onerror=plugin_loaded_error,e.onload=nmcades_api_onload,document.getElementsByTagName("head")[0].appendChild(e)):((e=document.createElement("script")).setAttribute("type","text/javascript"),e.setAttribute("src","chrome-extension://iifchhfnnmpdbibifmljnfjhpififfog/nmcades_plugin_api.js"),e.onerror=plugin_loaded_error,e.onload=nmcades_api_onload,document.getElementsByTagName("head")[0].appendChild(e))}function load_npapi_plugin(){var e=document.createElement("object");if(e.setAttribute("id","cadesplugin_object"),e.setAttribute("type","application/x-cades"),e.setAttribute("style","visibility: hidden"),document.getElementsByTagName("body")[0].appendChild(e),pluginObject=document.getElementById("cadesplugin_object"),isIE()){var n=document.createElement("object");n.setAttribute("id","certEnrollClassFactory"),n.setAttribute("classid","clsid:884e2049-217d-11da-b2a4-000e7bbb2b09"),n.setAttribute("style","visibility: hidden"),document.getElementsByTagName("body")[0].appendChild(n);var r=document.createElement("object");r.setAttribute("id","webClassFactory"),r.setAttribute("classid","clsid:B04C8637-10BD-484E-B0DA-B8A039F60024"),r.setAttribute("style","visibility: hidden"),document.getElementsByTagName("body")[0].appendChild(r)}}function plugin_loaded(){plugin_resolved=1,canPromise?plugin_resolve():window.postMessage("cadesplugin_loaded","*")}function plugin_loaded_error(e){void 0!==e&&"object"!=typeof e||(e="Плагин недоступен"),plugin_resolved=1,canPromise?plugin_reject(e):window.postMessage("cadesplugin_load_error","*")}function check_load_timeout(){1!==plugin_resolved&&(isFireFox&&(isFireFoxExtensionLoaded||show_firefox_missing_extension_dialog()),plugin_resolved=1,canPromise?plugin_reject("Истекло время ожидания загрузки плагина"):window.postMessage("cadesplugin_load_error","*"))}function createPromise(e){return new Promise(e)}function check_npapi_plugin(){try{CreateObject("CAdESCOM.About");plugin_loaded()}catch(n){document.getElementById("cadesplugin_object").style.display="none";var e=navigator.mimeTypes["application/x-cades"];if(e)plugin_loaded_error(e.enabledPlugin?"Плагин загружен, но не создаются обьекты":"Ошибка при загрузке плагина");else plugin_loaded_error("Плагин недоступен")}}function check_plugin_working(){var e=document.createElement("div");e.innerHTML="\x3c!--[if lt IE 9]><i></i><![endif]--\x3e",1===e.getElementsByTagName("i").length?plugin_loaded_error("Internet Explorer версии 8 и ниже не поддерживается"):isNativeMessageSupported()?load_extension():canPromise?"complete"===document.readyState?(load_npapi_plugin(),check_npapi_plugin()):window.addEventListener("load",(function(e){load_npapi_plugin(),check_npapi_plugin()}),!1):window.addEventListener("message",(function(e){"cadesplugin_echo_request"===e.data&&(load_npapi_plugin(),check_npapi_plugin())}),!1)}function set_pluginObject(e){pluginObject=e}function is_capilite_enabled(){return!(void 0===cadesplugin.EnableInternalCSP||!cadesplugin.EnableInternalCSP)}}()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var certificate_1=__webpack_require__(7),constants_1=__webpack_require__(4),_afterPluginsLoaded_1=__webpack_require__(0),_extractCommonName_1=__webpack_require__(27),_extractMeaningfulErrorMessage_1=__webpack_require__(1),_generateCadesFn_1=__webpack_require__(2),certificatesCache;exports.getUserCertificates=_afterPluginsLoaded_1._afterPluginsLoaded((function(resetCache){void 0===resetCache&&(resetCache=!1);var cadesplugin=window.cadesplugin;return!resetCache&&certificatesCache?certificatesCache:eval(_generateCadesFn_1._generateCadesFn((function(){var e,n,r;try{e=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CAdESCOM.Store")}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при попытке доступа к хранилищу")}try{_generateCadesFn_1.__cadesAsyncToken__,e.Open(cadesplugin.CADESCOM_CONTAINER_STORE,cadesplugin.CAPICOM_MY_STORE,cadesplugin.CAPICOM_STORE_OPEN_MAXIMUM_ALLOWED)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при открытии хранилища")}try{(n=_generateCadesFn_1.__cadesAsyncToken__+e.Certificates)&&(n=_generateCadesFn_1.__cadesAsyncToken__+n.Find(cadesplugin.CAPICOM_CERTIFICATE_FIND_TIME_VALID),n=_generateCadesFn_1.__cadesAsyncToken__+n.Find(cadesplugin.CAPICOM_CERTIFICATE_FIND_EXTENDED_PROPERTY,constants_1.CAPICOM_PROPID_KEY_PROV_INFO),r=_generateCadesFn_1.__cadesAsyncToken__+n.Count)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка получения списка сертификатов")}if(!r)throw new Error("Нет доступных сертификатов");var t=[];try{for(;r;){var a=_generateCadesFn_1.__cadesAsyncToken__+n.Item(r);t.push(new certificate_1.Certificate(a,_extractCommonName_1._extractCommonName(_generateCadesFn_1.__cadesAsyncToken__+a.SubjectName),_generateCadesFn_1.__cadesAsyncToken__+a.IssuerName,_generateCadesFn_1.__cadesAsyncToken__+a.SubjectName,_generateCadesFn_1.__cadesAsyncToken__+a.Thumbprint,_generateCadesFn_1.__cadesAsyncToken__+a.ValidFromDate,_generateCadesFn_1.__cadesAsyncToken__+a.ValidToDate)),r--}}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка обработки сертификатов")}return e.Close(),certificatesCache=t})))}))},function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){for(var r in e)n.hasOwnProperty(r)||(n[r]=e[r])}(r(14))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _afterPluginsLoaded_1=__webpack_require__(0),_extractMeaningfulErrorMessage_1=__webpack_require__(1),_generateCadesFn_1=__webpack_require__(2);exports.getCadesProp=_afterPluginsLoaded_1._afterPluginsLoaded((function(propName){var cadesCertificate=this._cadesCertificate;return eval(_generateCadesFn_1._generateCadesFn((function(){var e;try{e=_generateCadesFn_1.__cadesAsyncToken__+cadesCertificate[propName]}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при обращении к свойству сертификата")}return e})))}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _afterPluginsLoaded_1=__webpack_require__(0),_extractMeaningfulErrorMessage_1=__webpack_require__(1),_generateCadesFn_1=__webpack_require__(2);exports.getSystemInfo=_afterPluginsLoaded_1._afterPluginsLoaded((function(){var sysInfo={cadesVersion:null,cspVersion:null};return eval(_generateCadesFn_1._generateCadesFn((function(){var e;try{e=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CAdESCOM.About"),sysInfo.cadesVersion=_generateCadesFn_1.__cadesAsyncToken__+e.PluginVersion,sysInfo.cspVersion=_generateCadesFn_1.__cadesAsyncToken__+e.CSPVersion(),sysInfo.cadesVersion||(sysInfo.cadesVersion=_generateCadesFn_1.__cadesAsyncToken__+e.Version),sysInfo.cadesVersion=_generateCadesFn_1.__cadesAsyncToken__+sysInfo.cadesVersion.toString(),sysInfo.cspVersion=_generateCadesFn_1.__cadesAsyncToken__+sysInfo.cspVersion.toString()}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при получении информации о системе")}return sysInfo})))}))},function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n._getDateObj=function(e){return e.getVarDate?e.getVarDate():e}},function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){for(var r in e)n.hasOwnProperty(r)||(n[r]=e[r])}(r(12))},function(e,n,r){"use strict";function t(e){for(var r in e)n.hasOwnProperty(r)||(n[r]=e[r])}Object.defineProperty(n,"__esModule",{value:!0}),t(r(13)),t(r(6)),t(r(9)),t(r(28)),t(r(31)),t(r(32)),t(r(36)),t(r(37)),t(r(38)),t(r(39)),t(r(40)),t(r(41)),t(r(42)),t(r(43)),t(r(44)),t(r(45)),t(r(46)),t(r(49)),t(r(55)),t(r(56)),t(r(57)),t(r(58)),t(r(59)),t(r(7)),t(r(60))},function(e,n,r){"use strict";var t=this&&this.__awaiter||function(e,n,r,t){return new(r||(r=Promise))((function(a,_){function o(e){try{i(t.next(e))}catch(e){_(e)}}function s(e){try{i(t.throw(e))}catch(e){_(e)}}function i(e){var n;e.done?a(e.value):(n=e.value,n instanceof r?n:new r((function(e){e(n)}))).then(o,s)}i((t=t.apply(e,n||[])).next())}))},a=this&&this.__generator||function(e,n){var r,t,a,_,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return _={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(_[Symbol.iterator]=function(){return this}),_;function s(_){return function(s){return function(_){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,t&&(a=2&_[0]?t.return:_[0]?t.throw||((a=t.return)&&a.call(t),0):t.next)&&!(a=a.call(t,_[1])).done)return a;switch(t=0,a&&(_=[2&_[0],a.value]),_[0]){case 0:case 1:a=_;break;case 4:return o.label++,{value:_[1],done:!1};case 5:o.label++,t=_[1],_=[0];continue;case 7:_=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==_[0]&&2!==_[0])){o=0;continue}if(3===_[0]&&(!a||_[1]>a[0]&&_[1]<a[3])){o.label=_[1];break}if(6===_[0]&&o.label<a[1]){o.label=a[1],a=_;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(_);break}a[2]&&o.ops.pop(),o.trys.pop();continue}_=n.call(e,o)}catch(e){_=[6,e],t=0}finally{r=a=0}if(5&_[0])throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}([_,s])}}};Object.defineProperty(n,"__esModule",{value:!0});var _=r(0),o=r(6);n.getCertificate=_._afterPluginsLoaded((function(e){return t(void 0,void 0,void 0,(function(){var n,r;return a(this,(function(t){switch(t.label){case 0:if(!e)throw new Error("Отпечаток не указан");return[4,o.getUserCertificates()];case 1:if(n=t.sent(),!(r=n.find((function(n){return n.thumbprint===e}))))throw new Error('Сертификат с отпечатком: "'+e+'" не найден');return[2,r]}}))}))}))},function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=r(4),a=r(19),_=r(20),o=r(8),s=r(21),i=r(22),c=r(23),u=r(25),l=r(26),d=function(){function e(e,n,r,t,a,_,o){this._cadesCertificate=e,this.name=n,this.issuerName=r,this.subjectName=t,this.thumbprint=a,this.validFrom=_,this.validTo=o}return e.prototype.getOwnerInfo=function(){return c.getInfo.call(this,t.SUBJECT_TAGS_TRANSLATIONS,"SubjectName")},e.prototype.getIssuerInfo=function(){return c.getInfo.call(this,t.ISSUER_TAGS_TRANSLATIONS,"IssuerName")},e.prototype.getExtendedKeyUsage=function(){return i.getExtendedKeyUsage.call(this)},e.prototype.getDecodedExtendedKeyUsage=function(){return s.getDecodedExtendedKeyUsage.call(this)},e.prototype.getAlgorithm=function(){return _.getAlgorithm.call(this)},e.prototype.getCadesProp=function(e){return o.getCadesProp.call(this,e)},e.prototype.isValid=function(){return l.isValid.call(this)},e.prototype.exportBase64=function(){return a.exportBase64.call(this)},e.prototype.hasExtendedKeyUsage=function(e){return u.hasExtendedKeyUsage.call(this,e)},e}();n.Certificate=d},function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.CADESCOM_ATTRIBUTE_OTHER=-1,n.CADESCOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_DESCRIPTION=2,n.CADESCOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_NAME=1,n.CADESCOM_AUTHENTICATED_ATTRIBUTE_SIGNING_TIME=0,n.CADESCOM_AllowNoOutstandingRequest=1,n.CADESCOM_AllowNone=0,n.CADESCOM_AllowUntrustedCertificate=2,n.CADESCOM_AllowUntrustedRoot=4,n.CADESCOM_BASE64_TO_BINARY=1,n.CADESCOM_CADES_BES=1,n.CADESCOM_CADES_DEFAULT=0,n.CADESCOM_CADES_T=5,n.CADESCOM_CADES_X_LONG_TYPE_1=93,n.CADESCOM_CONTAINER_STORE=100,n.CADESCOM_CURRENT_USER_STORE=2,n.CADESCOM_DISPLAY_DATA_ATTRIBUTE=2,n.CADESCOM_DISPLAY_DATA_CONTENT=1,n.CADESCOM_DISPLAY_DATA_NONE=0,n.CADESCOM_ENCODE_ANY=-1,n.CADESCOM_ENCODE_BASE64=0,n.CADESCOM_ENCODE_BINARY=1,n.CADESCOM_ENCRYPTION_ALGORITHM_3DES=3,n.CADESCOM_ENCRYPTION_ALGORITHM_AES=4,n.CADESCOM_ENCRYPTION_ALGORITHM_DES=2,n.CADESCOM_ENCRYPTION_ALGORITHM_GOST_28147_89=25,n.CADESCOM_ENCRYPTION_ALGORITHM_RC2=0,n.CADESCOM_ENCRYPTION_ALGORITHM_RC4=1,n.CADESCOM_HASH_ALGORITHM_CP_GOST_3411=100,n.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256=101,n.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256_HMAC=111,n.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_512=102,n.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_512_HMAC=112,n.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_HMAC=110,n.CADESCOM_HASH_ALGORITHM_MD2=1,n.CADESCOM_HASH_ALGORITHM_MD4=2,n.CADESCOM_HASH_ALGORITHM_MD5=3,n.CADESCOM_HASH_ALGORITHM_SHA1=0,n.CADESCOM_HASH_ALGORITHM_SHA_256=4,n.CADESCOM_HASH_ALGORITHM_SHA_384=5,n.CADESCOM_HASH_ALGORITHM_SHA_512=6,n.CADESCOM_LOCAL_MACHINE_STORE=1,n.CADESCOM_PKCS7_TYPE=65535,n.CADESCOM_STRING_TO_UCS2LE=0,n.CADESCOM_SkipInstallToStore=268435456,n.CADESCOM_XML_SIGNATURE_TYPE_ENVELOPED=0,n.CADESCOM_XML_SIGNATURE_TYPE_ENVELOPING=1,n.CADESCOM_XML_SIGNATURE_TYPE_TEMPLATE=2,n.CADESCOM_XADES_BES=32,n.CAPICOM_ACTIVE_DIRECTORY_USER_STORE=3,n.CAPICOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_DESCRIPTION=2,n.CAPICOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_NAME=1,n.CAPICOM_AUTHENTICATED_ATTRIBUTE_SIGNING_TIME=0,n.CAPICOM_CERTIFICATE_FIND_APPLICATION_POLICY=7,n.CAPICOM_CERTIFICATE_FIND_CERTIFICATE_POLICY=8,n.CAPICOM_CERTIFICATE_FIND_EXTENDED_PROPERTY=6,n.CAPICOM_CERTIFICATE_FIND_EXTENSION=5,n.CAPICOM_CERTIFICATE_FIND_ISSUER_NAME=2,n.CAPICOM_CERTIFICATE_FIND_KEY_USAGE=12,n.CAPICOM_CERTIFICATE_FIND_ROOT_NAME=3,n.CAPICOM_CERTIFICATE_FIND_SHA1_HASH=0,n.CAPICOM_CERTIFICATE_FIND_SUBJECT_NAME=1,n.CAPICOM_CERTIFICATE_FIND_TEMPLATE_NAME=4,n.CAPICOM_CERTIFICATE_FIND_TIME_EXPIRED=11,n.CAPICOM_CERTIFICATE_FIND_TIME_NOT_YET_VALID=10,n.CAPICOM_CERTIFICATE_FIND_TIME_VALID=9,n.CAPICOM_CERTIFICATE_INCLUDE_CHAIN_EXCEPT_ROOT=0,n.CAPICOM_CERTIFICATE_INCLUDE_END_ENTITY_ONLY=2,n.CAPICOM_CERTIFICATE_INCLUDE_WHOLE_CHAIN=1,n.CAPICOM_CERT_INFO_ISSUER_SIMPLE_NAME=1,n.CAPICOM_CERT_INFO_SUBJECT_SIMPLE_NAME=0,n.CAPICOM_CURRENT_USER_STORE=2,n.CAPICOM_DIGITAL_SIGNATURE_KEY_USAGE=128,n.CAPICOM_EKU_CLIENT_AUTH=2,n.CAPICOM_EKU_OTHER=0,n.CAPICOM_EKU_SMARTCARD_LOGON=5,n.CAPICOM_LOCAL_MACHINE_STORE=1,n.CAPICOM_MEMORY_STORE=0,n.CAPICOM_MY_STORE="My",n.CAPICOM_OID_KEY_USAGE_EXTENSION=10,n.CAPICOM_OID_OTHER=0,n.CAPICOM_PROPID_ACCESS_STATE=14,n.CAPICOM_PROPID_ARCHIVED=19,n.CAPICOM_PROPID_ARCHIVED_KEY_HASH=65,n.CAPICOM_PROPID_AUTO_ENROLL=21,n.CAPICOM_PROPID_CROSS_CERT_DIST_POINTS=23,n.CAPICOM_PROPID_CTL_USAGE=9,n.CAPICOM_PROPID_DATE_STAMP=27,n.CAPICOM_PROPID_DESCRIPTION=13,n.CAPICOM_PROPID_EFS=17,n.CAPICOM_PROPID_ENHKEY_USAGE=9,n.CAPICOM_PROPID_ENROLLMENT=26,n.CAPICOM_PROPID_EXTENDED_ERROR_INFO=30,n.CAPICOM_PROPID_FIRST_RESERVED=66,n.CAPICOM_PROPID_FIRST_USER=32768,n.CAPICOM_PROPID_FORTEZZA_DATA=18,n.CAPICOM_PROPID_FRIENDLY_NAME=11,n.CAPICOM_PROPID_HASH_PROP=3,n.CAPICOM_PROPID_IE30_RESERVED=7,n.CAPICOM_PROPID_ISSUER_PUBLIC_KEY_MD5_HASH=24,n.CAPICOM_PROPID_ISSUER_SERIAL_NUMBER_MD5_HASH=28,n.CAPICOM_PROPID_KEY_CONTEXT=5,n.CAPICOM_PROPID_KEY_IDENTIFIER=20,n.CAPICOM_PROPID_KEY_PROV_HANDLE=1,n.CAPICOM_PROPID_KEY_PROV_INFO=2,n.CAPICOM_PROPID_KEY_SPEC=6,n.CAPICOM_PROPID_LAST_RESERVED=32767,n.CAPICOM_PROPID_LAST_USER=65535,n.CAPICOM_PROPID_MD5_HASH=4,n.CAPICOM_PROPID_NEXT_UPDATE_LOCATION=10,n.CAPICOM_PROPID_PUBKEY_ALG_PARA=22,n.CAPICOM_PROPID_PUBKEY_HASH_RESERVED=8,n.CAPICOM_PROPID_PVK_FILE=12,n.CAPICOM_PROPID_RENEWAL=64,n.CAPICOM_PROPID_SHA1_HASH=3,n.CAPICOM_PROPID_SIGNATURE_HASH=15,n.CAPICOM_PROPID_SMART_CARD_DATA=16,n.CAPICOM_PROPID_SUBJECT_NAME_MD5_HASH=29,n.CAPICOM_PROPID_SUBJECT_PUBLIC_KEY_MD5_HASH=25,n.CAPICOM_PROPID_UNKNOWN=0,n.CAPICOM_SMART_CARD_USER_STORE=4,n.CAPICOM_STORE_OPEN_EXISTING_ONLY=128,n.CAPICOM_STORE_OPEN_INCLUDE_ARCHIVED=256,n.CAPICOM_STORE_OPEN_MAXIMUM_ALLOWED=2,n.CAPICOM_STORE_OPEN_READ_ONLY=0,n.CAPICOM_STORE_OPEN_READ_WRITE=1,n.CHECK_NONE=0,n.CHECK_OFFLINE_REVOCATION_STATUS=16,n.CHECK_ONLINE_REVOCATION_STATUS=8,n.CHECK_SIGNATURE_VALIDITY=4,n.CHECK_TIME_VALIDITY=2,n.CHECK_TRUSTED_ROOT=1,n.LOG_LEVEL_DEBUG=4,n.LOG_LEVEL_ERROR=1,n.LOG_LEVEL_INFO=2,n.TRUST_CTL_IS_NOT_SIGNATURE_VALID=262144,n.TRUST_CTL_IS_NOT_TIME_VALID=131072,n.TRUST_CTL_IS_NOT_VALID_FOR_USAGE=524288,n.TRUST_IS_CYCLIC=128,n.TRUST_IS_NOT_SIGNATURE_VALID=8,n.TRUST_IS_NOT_TIME_NESTED=2,n.TRUST_IS_NOT_TIME_VALID=1,n.TRUST_IS_NOT_VALID_FOR_USAGE=16,n.TRUST_IS_PARTIAL_CHAIN=65536,n.TRUST_IS_REVOKED=4,n.TRUST_IS_UNTRUSTED_ROOT=32,n.TRUST_REVOCATION_STATUS_UNKNOWN=64,n.XmlDsigGost3410Url="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34102001-gostr3411",n.XmlDsigGost3410UrlObsolete="http://www.w3.org/2001/04/xmldsig-more#gostr34102001-gostr3411",n.XmlDsigGost3411Url="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr3411",n.XmlDsigGost3411UrlObsolete="http://www.w3.org/2001/04/xmldsig-more#gostr3411"},function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ISSUER_TAGS_TRANSLATIONS=[{possibleNames:["UnstructuredName"],translation:"Неструктурированное имя"},{possibleNames:["CN"],translation:"Удостоверяющий центр"},{possibleNames:["C"],translation:"Страна"},{possibleNames:["S"],translation:"Регион"},{possibleNames:["STREET"],translation:"Адрес"},{possibleNames:["O"],translation:"Компания"},{possibleNames:["OU"],translation:"Тип"},{possibleNames:["T"],translation:"Должность"},{possibleNames:["ОГРН","OGRN"],translation:"ОГРН"},{possibleNames:["ОГРНИП","OGRNIP"],translation:"ОГРНИП"},{possibleNames:["СНИЛС","SNILS"],translation:"СНИЛС"},{possibleNames:["ИНН","INN","ИНН организации"],translation:"ИНН"},{possibleNames:["E"],translation:"Email"},{possibleNames:["L"],translation:"Город"}]},function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.OIDS_DICTIONARY={"1.2.643.2.2.34.6":"Пользователь Центра Регистрации","1.2.643.2.39.1.1":'Использование в программных продуктах системы "1С:Предприятие 8"',"1.2.643.3.131.1.1":"ИНН","1.2.643.3.141.1.1":"РНС ФСС","1.2.643.3.141.1.2":"КП ФСС","1.2.643.3.2.100.65.13.11":'Использование в системе АИС "Госзакупки" Сахалинской области.',"1.2.643.3.8.100.1":'Сертификат типа "ekey-ГОСТ"',"1.2.643.3.8.100.1.1":"Общее использование в системах ИОК без права заверения финансовых документов","1.2.643.3.8.100.1.10":"Для участия в электронных торгах и подписания государственного контракта в  информационных системах Тендерного комитета города Москвы уполномоченными  лицами участников размещения государственного заказа города Москвы","1.2.643.3.8.100.1.11":"Подписание электронных документов в автоматизированной информационной  системе размещения государственного и муниципального заказа Саратовской области","1.2.643.3.8.100.1.12":"Использование в системе государственного заказа Иркутской области","1.2.643.3.8.100.1.13":"Использование в электронной торговой площадке агентства государственного  заказа Красноярского края","1.2.643.3.8.100.1.14":'Использование в электронной торговой площадке "Тендер"',"1.2.643.3.8.100.1.2":"Передача отчетности по ТКС","1.2.643.3.8.100.1.3":"Оформление взаимных обязательств, соглашений, договоров, актов и т.п.","1.2.643.3.8.100.1.4":"Внутрикорпоративный документооборот","1.2.643.3.8.100.1.5":"Использование в системах электронной торговли","1.2.643.3.8.100.1.6":'Использование в торгово-закупочной системе "ЭЛЕКТРА"',"1.2.643.3.8.100.1.7":"Использование в системе Портал государственных закупок Ставропольского края.","1.2.643.3.8.100.1.8":"Использование в Единой системе электронной торговли B2B-Center и B2G.","1.2.643.3.8.100.1.9":"Для участия в электронных торгах и подписания государственного контракта в  электронной площадке ОАО «ЕЭТП» уполномоченными лицами участников размещения  государственного или муниципального заказа","1.2.643.5.1.24.2.1.3":"Формирование документов для получения государственных  услуг в сфере ведения государственного кадастра недвижимости со стороны заявителя","1.2.643.5.1.24.2.1.3.1":"Формирование кадастровым инженером документов  для получения государственных услуг в сфере ведения государственного кадастра недвижимости со стороны  заявителя","1.2.643.5.1.24.2.2.2":"Формирование документов как результата оказания  услуги со стороны органов регистрации прав","1.2.643.5.1.24.2.2.3":"Формирование документов для получения государственных  услуг в сфере государственной регистрации прав на недвижимое имущество и сделок с ним со стороны заявителя","1.2.643.6.2.1.7.1":"Использование единоличным исполнительным органом юридического лица или уполномоченными представителями юридического лица в отношениях, связанных с возникновением, исполнением (осуществлением) и прекращением гражданских и иных прав и обязанностей в сфере негосударственного пенсионного обеспечения, негосударственного пенсионного страхования, в сфере деятельности паевых инвестиционных фондов, акционерных инвестиционных фондов, профессиональных участников рынка ценных бумаг, а также связанной с обслуживанием указанной деятельности услуг кредитных и иных организаций","1.2.643.6.2.1.7.2":"Использование физическим лицом в отношениях, связанных с возникновением, исполнением (осуществлением) и прекращением гражданских прав и обязанностей в отношении инвестиционных паев паевых инвестиционных фондов, в том числе отношения, связанные с учетом и/или фиксацией прав на инвестиционные паи паевых инвестиционных фондов","1.2.643.6.3":"Использование в электронных торговых системах и в программном обеспечении, связанным с обменом электронных сообщений","1.2.643.6.3.1.1":"Использование на электронных площадок отобранных для проведения аукционах в электронной форме","1.2.643.6.3.1.2.1":"Тип участника - Юридическое лицо","1.2.643.6.3.1.2.2":"Тип участника - Физическое лицо","1.2.643.6.3.1.2.3":"Тип участника - Индивидуальный предприниматель","1.2.643.6.3.1.3.1":"Участник размещения заказа","1.2.643.6.3.1.4.1":"Администратор организации","1.2.643.6.3.1.4.2":"Уполномоченный специалист","1.2.643.6.3.1.4.3":"Специалист с правом подписи контракта","1.2.840.113549.1.9.2":"Неструктурированное имя","1.3.6.1.4.1.24138.1.1.8.1":'Обеспечение юридической значимости в Системе "Электронная Торговая Площадка"',"1.3.6.1.4.1.29919.21":'Использование в системе Портал государственных закупок  Ростовской области "Рефери".',"1.3.6.1.5.5.7.3.2":"Проверка подлинности клиента","1.3.6.1.5.5.7.3.4":"Защищенная электронная почта","1.3.643.3.8.100.15":'Использование в ЭТП "uTender"'}},function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.SUBJECT_TAGS_TRANSLATIONS=[{possibleNames:["UnstructuredName"],translation:"Неструктурированное имя"},{possibleNames:["CN"],translation:"Владелец"},{possibleNames:["SN"],translation:"Фамилия"},{possibleNames:["G"],translation:"Имя Отчество"},{possibleNames:["C"],translation:"Страна"},{possibleNames:["S"],translation:"Регион"},{possibleNames:["STREET"],translation:"Адрес"},{possibleNames:["O"],translation:"Компания"},{possibleNames:["OU"],translation:"Отдел/подразделение"},{possibleNames:["T"],translation:"Должность"},{possibleNames:["ОГРН","OGRN"],translation:"ОГРН"},{possibleNames:["ОГРНИП","OGRNIP"],translation:"ОГРНИП"},{possibleNames:["СНИЛС","SNILS"],translation:"СНИЛС"},{possibleNames:["ИНН","INN","ИНН организации"],translation:"ИНН"},{possibleNames:["E"],translation:"Email"},{possibleNames:["L"],translation:"Город"}]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _afterPluginsLoaded_1=__webpack_require__(0),_extractMeaningfulErrorMessage_1=__webpack_require__(1),_generateCadesFn_1=__webpack_require__(2);exports.exportBase64=_afterPluginsLoaded_1._afterPluginsLoaded((function(){var cadesCertificate=this._cadesCertificate;return eval(_generateCadesFn_1._generateCadesFn((function(){var e;try{e=_generateCadesFn_1.__cadesAsyncToken__+cadesCertificate.Export(0)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при экспорте сертификата")}return e})))}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _afterPluginsLoaded_1=__webpack_require__(0),_extractMeaningfulErrorMessage_1=__webpack_require__(1),_generateCadesFn_1=__webpack_require__(2);exports.getAlgorithm=_afterPluginsLoaded_1._afterPluginsLoaded((function(){var cadesCertificate=this._cadesCertificate;return eval(_generateCadesFn_1._generateCadesFn((function(){var e,n={algorithm:null,oid:null};try{e=_generateCadesFn_1.__cadesAsyncToken__+cadesCertificate.PublicKey(),e=_generateCadesFn_1.__cadesAsyncToken__+e.Algorithm,n.algorithm=_generateCadesFn_1.__cadesAsyncToken__+e.FriendlyName,n.oid=_generateCadesFn_1.__cadesAsyncToken__+e.Value}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при получении алгоритма")}return n})))}))},function(e,n,r){"use strict";var t=this&&this.__assign||function(){return(t=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++)for(var a in n=arguments[r])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e}).apply(this,arguments)},a=this&&this.__awaiter||function(e,n,r,t){return new(r||(r=Promise))((function(a,_){function o(e){try{i(t.next(e))}catch(e){_(e)}}function s(e){try{i(t.throw(e))}catch(e){_(e)}}function i(e){var n;e.done?a(e.value):(n=e.value,n instanceof r?n:new r((function(e){e(n)}))).then(o,s)}i((t=t.apply(e,n||[])).next())}))},_=this&&this.__generator||function(e,n){var r,t,a,_,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return _={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(_[Symbol.iterator]=function(){return this}),_;function s(_){return function(s){return function(_){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,t&&(a=2&_[0]?t.return:_[0]?t.throw||((a=t.return)&&a.call(t),0):t.next)&&!(a=a.call(t,_[1])).done)return a;switch(t=0,a&&(_=[2&_[0],a.value]),_[0]){case 0:case 1:a=_;break;case 4:return o.label++,{value:_[1],done:!1};case 5:o.label++,t=_[1],_=[0];continue;case 7:_=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==_[0]&&2!==_[0])){o=0;continue}if(3===_[0]&&(!a||_[1]>a[0]&&_[1]<a[3])){o.label=_[1];break}if(6===_[0]&&o.label<a[1]){o.label=a[1],a=_;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(_);break}a[2]&&o.ops.pop(),o.trys.pop();continue}_=n.call(e,o)}catch(e){_=[6,e],t=0}finally{r=a=0}if(5&_[0])throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}([_,s])}}};Object.defineProperty(n,"__esModule",{value:!0});var o=r(4),s=r(0);n.getDecodedExtendedKeyUsage=s._afterPluginsLoaded((function(){return a(this,void 0,void 0,(function(){return _(this,(function(e){switch(e.label){case 0:return[4,this.getExtendedKeyUsage()];case 1:return[2,e.sent().reduce((function(e,n){var r;return t(t({},e),((r={})[n]=o.OIDS_DICTIONARY[n]||null,r))}),{})]}}))}))}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _afterPluginsLoaded_1=__webpack_require__(0),_extractMeaningfulErrorMessage_1=__webpack_require__(1),_generateCadesFn_1=__webpack_require__(2);exports.getExtendedKeyUsage=_afterPluginsLoaded_1._afterPluginsLoaded((function(){var cadesCertificate=this._cadesCertificate;return eval(_generateCadesFn_1._generateCadesFn((function(){var e,n=[];try{if(e=_generateCadesFn_1.__cadesAsyncToken__+cadesCertificate.ExtendedKeyUsage(),e=_generateCadesFn_1.__cadesAsyncToken__+e.EKUs,(e=_generateCadesFn_1.__cadesAsyncToken__+e.Count)>0)for(;e>0;){var r=void 0;r=_generateCadesFn_1.__cadesAsyncToken__+cadesCertificate.ExtendedKeyUsage(),r=_generateCadesFn_1.__cadesAsyncToken__+r.EKUs,r=_generateCadesFn_1.__cadesAsyncToken__+r.Item(e),r=_generateCadesFn_1.__cadesAsyncToken__+r.OID,n.push(r),e--}}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при получении ОИД'ов")}return n})))}))},function(e,n,r){"use strict";var t=this&&this.__awaiter||function(e,n,r,t){return new(r||(r=Promise))((function(a,_){function o(e){try{i(t.next(e))}catch(e){_(e)}}function s(e){try{i(t.throw(e))}catch(e){_(e)}}function i(e){var n;e.done?a(e.value):(n=e.value,n instanceof r?n:new r((function(e){e(n)}))).then(o,s)}i((t=t.apply(e,n||[])).next())}))},a=this&&this.__generator||function(e,n){var r,t,a,_,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return _={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(_[Symbol.iterator]=function(){return this}),_;function s(_){return function(s){return function(_){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,t&&(a=2&_[0]?t.return:_[0]?t.throw||((a=t.return)&&a.call(t),0):t.next)&&!(a=a.call(t,_[1])).done)return a;switch(t=0,a&&(_=[2&_[0],a.value]),_[0]){case 0:case 1:a=_;break;case 4:return o.label++,{value:_[1],done:!1};case 5:o.label++,t=_[1],_=[0];continue;case 7:_=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==_[0]&&2!==_[0])){o=0;continue}if(3===_[0]&&(!a||_[1]>a[0]&&_[1]<a[3])){o.label=_[1];break}if(6===_[0]&&o.label<a[1]){o.label=a[1],a=_;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(_);break}a[2]&&o.ops.pop(),o.trys.pop();continue}_=n.call(e,o)}catch(e){_=[6,e],t=0}finally{r=a=0}if(5&_[0])throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}([_,s])}}};Object.defineProperty(n,"__esModule",{value:!0});var _=r(0),o=r(1),s=r(24),i=r(8);n.getInfo=_._afterPluginsLoaded((function(e,n){return t(this,void 0,void 0,(function(){var r,t;return a(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,i.getCadesProp.call(this,n)];case 1:return r=a.sent(),[3,3];case 2:throw t=a.sent(),console.error(t),new Error(o._extractMeaningfulErrorMessage(t)||"Ошибка при извлечении информации из сертификата");case 3:return[2,s._parseCertInfo(e,r)]}}))}))}))},function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=r(4);n._parseCertInfo=function(e,n){var r=n.match(/([а-яА-Яa-zA-Z0-9\s.]+)=(?:("[^"]+?")|(.+?))(?:,|$)/g);if(r)return r.map((function(n){var r,a,_,o=n.trim().match(/^([а-яА-Яa-zA-Z0-9\s.]+)=(.+?),?$/),s=null==o?void 0:o[1],i=null===(a=null===(r=null==o?void 0:o[2])||void 0===r?void 0:r.replace(/^"(.*)"/,"$1"))||void 0===a?void 0:a.replace(/"{2}/g,'"'),c=null==s?void 0:s.match(/^OID\.(.*)/),u=null==c?void 0:c[1],l=!1;if(u){var d=t.OIDS_DICTIONARY[u];d&&(s=d,l=!0)}var g=null===(_=e.find((function(e){return e.possibleNames.find((function(e){return e===s}))})))||void 0===_?void 0:_.translation;return g&&(s=g,l=!0),{description:i,title:s,isTranslated:l}}))}},function(e,n,r){"use strict";var t=this&&this.__awaiter||function(e,n,r,t){return new(r||(r=Promise))((function(a,_){function o(e){try{i(t.next(e))}catch(e){_(e)}}function s(e){try{i(t.throw(e))}catch(e){_(e)}}function i(e){var n;e.done?a(e.value):(n=e.value,n instanceof r?n:new r((function(e){e(n)}))).then(o,s)}i((t=t.apply(e,n||[])).next())}))},a=this&&this.__generator||function(e,n){var r,t,a,_,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return _={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(_[Symbol.iterator]=function(){return this}),_;function s(_){return function(s){return function(_){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,t&&(a=2&_[0]?t.return:_[0]?t.throw||((a=t.return)&&a.call(t),0):t.next)&&!(a=a.call(t,_[1])).done)return a;switch(t=0,a&&(_=[2&_[0],a.value]),_[0]){case 0:case 1:a=_;break;case 4:return o.label++,{value:_[1],done:!1};case 5:o.label++,t=_[1],_=[0];continue;case 7:_=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==_[0]&&2!==_[0])){o=0;continue}if(3===_[0]&&(!a||_[1]>a[0]&&_[1]<a[3])){o.label=_[1];break}if(6===_[0]&&o.label<a[1]){o.label=a[1],a=_;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(_);break}a[2]&&o.ops.pop(),o.trys.pop();continue}_=n.call(e,o)}catch(e){_=[6,e],t=0}finally{r=a=0}if(5&_[0])throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}([_,s])}}};Object.defineProperty(n,"__esModule",{value:!0});var _=r(0);n.hasExtendedKeyUsage=_._afterPluginsLoaded((function(e){return t(this,void 0,void 0,(function(){var n;return a(this,(function(r){switch(r.label){case 0:return[4,this.getExtendedKeyUsage()];case 1:return n=r.sent(),[2,Array.isArray(e)?e.every((function(e){return n.some((function(n){return n===e}))})):n.some((function(n){return n===e}))]}}))}))}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _afterPluginsLoaded_1=__webpack_require__(0),_extractMeaningfulErrorMessage_1=__webpack_require__(1),_generateCadesFn_1=__webpack_require__(2);exports.isValid=_afterPluginsLoaded_1._afterPluginsLoaded((function(){var cadesCertificate=this._cadesCertificate;return eval(_generateCadesFn_1._generateCadesFn((function(){var e;try{e=_generateCadesFn_1.__cadesAsyncToken__+cadesCertificate.IsValid(),e=_generateCadesFn_1.__cadesAsyncToken__+e.Result}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при проверке сертификата")}return Boolean(e)})))}))},function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n._extractCommonName=function(e){var n;return null===(n=e.match(/CN=(.+?)(?:,|$)/))||void 0===n?void 0:n[1]}},function(e,n,r){"use strict";var t=this&&this.__awaiter||function(e,n,r,t){return new(r||(r=Promise))((function(a,_){function o(e){try{i(t.next(e))}catch(e){_(e)}}function s(e){try{i(t.throw(e))}catch(e){_(e)}}function i(e){var n;e.done?a(e.value):(n=e.value,n instanceof r?n:new r((function(e){e(n)}))).then(o,s)}i((t=t.apply(e,n||[])).next())}))},a=this&&this.__generator||function(e,n){var r,t,a,_,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return _={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(_[Symbol.iterator]=function(){return this}),_;function s(_){return function(s){return function(_){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,t&&(a=2&_[0]?t.return:_[0]?t.throw||((a=t.return)&&a.call(t),0):t.next)&&!(a=a.call(t,_[1])).done)return a;switch(t=0,a&&(_=[2&_[0],a.value]),_[0]){case 0:case 1:a=_;break;case 4:return o.label++,{value:_[1],done:!1};case 5:o.label++,t=_[1],_=[0];continue;case 7:_=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==_[0]&&2!==_[0])){o=0;continue}if(3===_[0]&&(!a||_[1]>a[0]&&_[1]<a[3])){o.label=_[1];break}if(6===_[0]&&o.label<a[1]){o.label=a[1],a=_;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(_);break}a[2]&&o.ops.pop(),o.trys.pop();continue}_=n.call(e,o)}catch(e){_=[6,e],t=0}finally{r=a=0}if(5&_[0])throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}([_,s])}}};Object.defineProperty(n,"__esModule",{value:!0});var _=r(0),o=r(1),s=r(29),i=r(30),c=r(9);n.isValidSystemSetup=_._afterPluginsLoaded((function(){return t(void 0,void 0,void 0,(function(){var e,n;return a(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,c.getSystemInfo()];case 1:return e=r.sent(),[3,3];case 2:throw n=r.sent(),console.error(n),new Error(o._extractMeaningfulErrorMessage(n)||"Настройки ЭП на данной машине не верны");case 3:if(!s._isSupportedCadesVersion(e.cadesVersion))throw new Error("Не поддерживаемая версия плагина");if(!i._isSupportedCSPVersion(e.cspVersion))throw new Error("Не поддерживаемая версия CSP");return[2,!0]}}))}))}))},function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n._isSupportedCadesVersion=function(e){var n=e.match(/(\d+)\.(\d+)\.(\d+)/);if(!n)return!1;var r=n[1],t=(n[2],n[3]);return!(Number(r)<2)&&!(2===Number(r)&&Number(t)<12438)}},function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n._isSupportedCSPVersion=function(e){var n;return e=null===(n=e.match(/\d+?\b(?:\.\d+)?/))||void 0===n?void 0:n[0],Number(e)>=4}},function(module,exports,__webpack_require__){"use strict";var __awaiter=this&&this.__awaiter||function(e,n,r,t){return new(r||(r=Promise))((function(a,_){function o(e){try{i(t.next(e))}catch(e){_(e)}}function s(e){try{i(t.throw(e))}catch(e){_(e)}}function i(e){var n;e.done?a(e.value):(n=e.value,n instanceof r?n:new r((function(e){e(n)}))).then(o,s)}i((t=t.apply(e,n||[])).next())}))},__generator=this&&this.__generator||function(e,n){var r,t,a,_,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return _={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(_[Symbol.iterator]=function(){return this}),_;function s(_){return function(s){return function(_){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,t&&(a=2&_[0]?t.return:_[0]?t.throw||((a=t.return)&&a.call(t),0):t.next)&&!(a=a.call(t,_[1])).done)return a;switch(t=0,a&&(_=[2&_[0],a.value]),_[0]){case 0:case 1:a=_;break;case 4:return o.label++,{value:_[1],done:!1};case 5:o.label++,t=_[1],_=[0];continue;case 7:_=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==_[0]&&2!==_[0])){o=0;continue}if(3===_[0]&&(!a||_[1]>a[0]&&_[1]<a[3])){o.label=_[1];break}if(6===_[0]&&o.label<a[1]){o.label=a[1],a=_;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(_);break}a[2]&&o.ops.pop(),o.trys.pop();continue}_=n.call(e,o)}catch(e){_=[6,e],t=0}finally{r=a=0}if(5&_[0])throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}([_,s])}}};Object.defineProperty(exports,"__esModule",{value:!0});var constants_1=__webpack_require__(4),_afterPluginsLoaded_1=__webpack_require__(0),_extractMeaningfulErrorMessage_1=__webpack_require__(1),_generateCadesFn_1=__webpack_require__(2),_getCadesCert_1=__webpack_require__(3),_getDateObj_1=__webpack_require__(10);exports.createSignature=_afterPluginsLoaded_1._afterPluginsLoaded((function(thumbprint,messageHash,detachedSignature){return void 0===detachedSignature&&(detachedSignature=!0),__awaiter(void 0,void 0,void 0,(function(){var cadesplugin,cadesCertificate;return __generator(this,(function(_a){switch(_a.label){case 0:return console.warn(['cryptoPro: Метод "createSignature" является устаревшим и будет убран из будущих версий.','Используйте "createCMSSignature" и "createDetachedSignature".'].join("\n")),cadesplugin=window.cadesplugin,[4,_getCadesCert_1._getCadesCert(thumbprint)];case 1:return cadesCertificate=_a.sent(),[2,eval(_generateCadesFn_1._generateCadesFn((function(){var e,n,r;try{e=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CADESCOM.CPAttribute"),n=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CAdESCOM.CadesSignedData"),r=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CAdESCOM.CPSigner")}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при инициализации подписи")}var t,a,_=_getDateObj_1._getDateObj(new Date);try{_generateCadesFn_1.__cadesAsyncToken__,e.propset_Name(constants_1.CADESCOM_AUTHENTICATED_ATTRIBUTE_SIGNING_TIME),_generateCadesFn_1.__cadesAsyncToken__,e.propset_Value(_)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при установке времени подписи")}try{_generateCadesFn_1.__cadesAsyncToken__,r.propset_Certificate(cadesCertificate),t=_generateCadesFn_1.__cadesAsyncToken__+r.AuthenticatedAttributes2,_generateCadesFn_1.__cadesAsyncToken__,t.Add(e),_generateCadesFn_1.__cadesAsyncToken__,n.propset_ContentEncoding(cadesplugin.CADESCOM_BASE64_TO_BINARY),_generateCadesFn_1.__cadesAsyncToken__,n.propset_Content(messageHash),_generateCadesFn_1.__cadesAsyncToken__,r.propset_Options(cadesplugin.CAPICOM_CERTIFICATE_INCLUDE_END_ENTITY_ONLY)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при указании данных для подписи")}try{a=_generateCadesFn_1.__cadesAsyncToken__+n.SignCades(r,cadesplugin.CADESCOM_CADES_BES,detachedSignature)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при подписании данных")}return a})))]}}))}))}))},function(module,exports,__webpack_require__){"use strict";var __awaiter=this&&this.__awaiter||function(e,n,r,t){return new(r||(r=Promise))((function(a,_){function o(e){try{i(t.next(e))}catch(e){_(e)}}function s(e){try{i(t.throw(e))}catch(e){_(e)}}function i(e){var n;e.done?a(e.value):(n=e.value,n instanceof r?n:new r((function(e){e(n)}))).then(o,s)}i((t=t.apply(e,n||[])).next())}))},__generator=this&&this.__generator||function(e,n){var r,t,a,_,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return _={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(_[Symbol.iterator]=function(){return this}),_;function s(_){return function(s){return function(_){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,t&&(a=2&_[0]?t.return:_[0]?t.throw||((a=t.return)&&a.call(t),0):t.next)&&!(a=a.call(t,_[1])).done)return a;switch(t=0,a&&(_=[2&_[0],a.value]),_[0]){case 0:case 1:a=_;break;case 4:return o.label++,{value:_[1],done:!1};case 5:o.label++,t=_[1],_=[0];continue;case 7:_=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==_[0]&&2!==_[0])){o=0;continue}if(3===_[0]&&(!a||_[1]>a[0]&&_[1]<a[3])){o.label=_[1];break}if(6===_[0]&&o.label<a[1]){o.label=a[1],a=_;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(_);break}a[2]&&o.ops.pop(),o.trys.pop();continue}_=n.call(e,o)}catch(e){_=[6,e],t=0}finally{r=a=0}if(5&_[0])throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}([_,s])}}};Object.defineProperty(exports,"__esModule",{value:!0});var _afterPluginsLoaded_1=__webpack_require__(0),_extractMeaningfulErrorMessage_1=__webpack_require__(1),_generateCadesFn_1=__webpack_require__(2),_getCadesCert_1=__webpack_require__(3),_generateUUID_1=__webpack_require__(33),_encodeBase64Representation_1=__webpack_require__(34),_decodeBase64Representation_1=__webpack_require__(35),createSignatureTemplate=function(e){return'<?xml version="1.0" encoding="UTF-8"?>\n<Content>\n    '+e+'\n    <ds:Signature xmlns:ds="http://www.w3.org/2000/09/xmldsig#" Id="'+_generateUUID_1._generateUUID()+'">\n        <ds:SignedInfo>\n            <ds:CanonicalizationMethod Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#"/>\n            <ds:SignatureMethod Algorithm="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34102012-gostr34112012-256"/>\n            <ds:Reference URI="">\n                <ds:Transforms>\n                    <ds:Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature"/>\n                </ds:Transforms>\n                <ds:DigestMethod Algorithm="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34112012-256"/>\n                <ds:DigestValue/>\n            </ds:Reference>\n        </ds:SignedInfo>\n        <ds:SignatureValue/>\n        <ds:KeyInfo/>\n    </ds:Signature>\n</Content>'};exports.createXMLSignature=_afterPluginsLoaded_1._afterPluginsLoaded((function(thumbprint,unencryptedMessage,advanced,xml){return __awaiter(void 0,void 0,void 0,(function(){var cadesplugin,cadesCertificate,CADESCOM_SIGNATURE_TYPE;return __generator(this,(function(_a){switch(_a.label){case 0:return cadesplugin=window.cadesplugin,[4,_getCadesCert_1._getCadesCert(thumbprint)];case 1:return cadesCertificate=_a.sent(),CADESCOM_SIGNATURE_TYPE=cadesplugin.CADESCOM_XML_SIGNATURE_TYPE_TEMPLATE,xml?CADESCOM_SIGNATURE_TYPE=cadesplugin.CADESCOM_XML_SIGNATURE_TYPE_ENVELOPED:unencryptedMessage=createSignatureTemplate(unencryptedMessage),advanced&&(CADESCOM_SIGNATURE_TYPE|=cadesplugin.CADESCOM_XADES_BES),[2,eval(_generateCadesFn_1._generateCadesFn((function(){var e,n,r;try{e=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CAdESCOM.CPSigner"),n=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CAdESCOM.SignedXML")}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при инициализации подписи")}try{_generateCadesFn_1.__cadesAsyncToken__,e.propset_Certificate(cadesCertificate),_generateCadesFn_1.__cadesAsyncToken__,e.propset_CheckCertificate(!1),_generateCadesFn_1.__cadesAsyncToken__,n.propset_Content(_encodeBase64Representation_1._encodeBase64Representation(unencryptedMessage)),_generateCadesFn_1.__cadesAsyncToken__,e.propset_Options(cadesplugin.CAPICOM_CERTIFICATE_INCLUDE_END_ENTITY_ONLY),_generateCadesFn_1.__cadesAsyncToken__,n.propset_SignatureType(CADESCOM_SIGNATURE_TYPE),_generateCadesFn_1.__cadesAsyncToken__,n.propset_SignatureMethod("urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34102012-gostr34112012-256"),_generateCadesFn_1.__cadesAsyncToken__,n.propset_DigestMethod("urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34112012-256")}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при указании данных для подписи")}try{r=_generateCadesFn_1.__cadesAsyncToken__+n.Sign(e)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при подписании данных")}try{_generateCadesFn_1.__cadesAsyncToken__,n.Verify(r)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при проверке подписанных данных")}return _decodeBase64Representation_1._decodeBase64Representation(r)})))]}}))}))}))},function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n._generateUUID=function(){var e,n,r="";for(e=0;e<32;e++)n=16*Math.random()|0,8!=e&&12!=e&&16!=e&&20!=e||(r+="-"),r+=(12==e?4:16==e?3&n|8:n).toString(16);return r}},function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n._encodeBase64Representation=function(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,n){return String.fromCharCode(parseInt("0x"+n,16))})))}},function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n._decodeBase64Representation=function(e){return decodeURIComponent(atob(e).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))}},function(module,exports,__webpack_require__){"use strict";var __awaiter=this&&this.__awaiter||function(e,n,r,t){return new(r||(r=Promise))((function(a,_){function o(e){try{i(t.next(e))}catch(e){_(e)}}function s(e){try{i(t.throw(e))}catch(e){_(e)}}function i(e){var n;e.done?a(e.value):(n=e.value,n instanceof r?n:new r((function(e){e(n)}))).then(o,s)}i((t=t.apply(e,n||[])).next())}))},__generator=this&&this.__generator||function(e,n){var r,t,a,_,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return _={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(_[Symbol.iterator]=function(){return this}),_;function s(_){return function(s){return function(_){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,t&&(a=2&_[0]?t.return:_[0]?t.throw||((a=t.return)&&a.call(t),0):t.next)&&!(a=a.call(t,_[1])).done)return a;switch(t=0,a&&(_=[2&_[0],a.value]),_[0]){case 0:case 1:a=_;break;case 4:return o.label++,{value:_[1],done:!1};case 5:o.label++,t=_[1],_=[0];continue;case 7:_=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==_[0]&&2!==_[0])){o=0;continue}if(3===_[0]&&(!a||_[1]>a[0]&&_[1]<a[3])){o.label=_[1];break}if(6===_[0]&&o.label<a[1]){o.label=a[1],a=_;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(_);break}a[2]&&o.ops.pop(),o.trys.pop();continue}_=n.call(e,o)}catch(e){_=[6,e],t=0}finally{r=a=0}if(5&_[0])throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}([_,s])}}};Object.defineProperty(exports,"__esModule",{value:!0});var _afterPluginsLoaded_1=__webpack_require__(0),_extractMeaningfulErrorMessage_1=__webpack_require__(1),_generateCadesFn_1=__webpack_require__(2),_getCadesCert_1=__webpack_require__(3);exports.createXadesTemplateSignature=_afterPluginsLoaded_1._afterPluginsLoaded((function(thumbprint,unencryptedMessage){return __awaiter(void 0,void 0,void 0,(function(){var cadesplugin,cadesCertificate;return __generator(this,(function(_a){switch(_a.label){case 0:return cadesplugin=window.cadesplugin,[4,_getCadesCert_1._getCadesCert(thumbprint)];case 1:return cadesCertificate=_a.sent(),[2,eval(_generateCadesFn_1._generateCadesFn((function(){var e,n,r,t='<?xml version="1.0" encoding="UTF-8"?>\n<s:Envelope xmlns:s="http://schemas.xmlsoap.org/soap/envelope/">\n    <s:Body>\n        <Document xml:id="base64-content">\n            '+unencryptedMessage+'\n        </Document>\n    </s:Body>\n    <ds:Signature xmlns:ds="http://www.w3.org/2000/09/xmldsig#" Id="base64-content-signature">\n        <ds:SignedInfo>\n            <ds:CanonicalizationMethod Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#"/>\n            <ds:SignatureMethod Algorithm="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34102012-gostr34112012-256"/>\n            <ds:Reference URI="#base64-content">\n                <ds:Transforms>\n                    <ds:Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature"/>\n                </ds:Transforms>\n                <ds:DigestMethod Algorithm="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34112012-256"/>\n                <ds:DigestValue/>\n            </ds:Reference>\n        </ds:SignedInfo>\n        <ds:SignatureValue/>\n        <ds:KeyInfo/>\n    </ds:Signature>\n</s:Envelope>';try{e=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CAdESCOM.CPSigner"),n=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CAdESCOM.SignedXML")}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при инициализации подписи")}try{_generateCadesFn_1.__cadesAsyncToken__,e.propset_Certificate(cadesCertificate),_generateCadesFn_1.__cadesAsyncToken__,e.propset_CheckCertificate(!1),_generateCadesFn_1.__cadesAsyncToken__,e.propset_Options(cadesplugin.CAPICOM_CERTIFICATE_INCLUDE_END_ENTITY_ONLY),_generateCadesFn_1.__cadesAsyncToken__,n.propset_Content(t),_generateCadesFn_1.__cadesAsyncToken__,n.propset_SignatureType(cadesplugin.CADESCOM_XML_SIGNATURE_TYPE_TEMPLATE|cadesplugin.CADESCOM_XADES_BES)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при указании данных для подписи")}try{r=_generateCadesFn_1.__cadesAsyncToken__+n.Sign(e)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при подписании данных")}return btoa(encodeURIComponent(r).replace(/%([0-9A-F]{2})/g,(function(e,n){return String.fromCharCode(parseInt("0x"+n,16))})))})))]}}))}))}))},function(module,exports,__webpack_require__){"use strict";var __awaiter=this&&this.__awaiter||function(e,n,r,t){return new(r||(r=Promise))((function(a,_){function o(e){try{i(t.next(e))}catch(e){_(e)}}function s(e){try{i(t.throw(e))}catch(e){_(e)}}function i(e){var n;e.done?a(e.value):(n=e.value,n instanceof r?n:new r((function(e){e(n)}))).then(o,s)}i((t=t.apply(e,n||[])).next())}))},__generator=this&&this.__generator||function(e,n){var r,t,a,_,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return _={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(_[Symbol.iterator]=function(){return this}),_;function s(_){return function(s){return function(_){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,t&&(a=2&_[0]?t.return:_[0]?t.throw||((a=t.return)&&a.call(t),0):t.next)&&!(a=a.call(t,_[1])).done)return a;switch(t=0,a&&(_=[2&_[0],a.value]),_[0]){case 0:case 1:a=_;break;case 4:return o.label++,{value:_[1],done:!1};case 5:o.label++,t=_[1],_=[0];continue;case 7:_=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==_[0]&&2!==_[0])){o=0;continue}if(3===_[0]&&(!a||_[1]>a[0]&&_[1]<a[3])){o.label=_[1];break}if(6===_[0]&&o.label<a[1]){o.label=a[1],a=_;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(_);break}a[2]&&o.ops.pop(),o.trys.pop();continue}_=n.call(e,o)}catch(e){_=[6,e],t=0}finally{r=a=0}if(5&_[0])throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}([_,s])}}};Object.defineProperty(exports,"__esModule",{value:!0});var _afterPluginsLoaded_1=__webpack_require__(0),_extractMeaningfulErrorMessage_1=__webpack_require__(1),_generateCadesFn_1=__webpack_require__(2),_getCadesCert_1=__webpack_require__(3);exports.createXadesSignature=_afterPluginsLoaded_1._afterPluginsLoaded((function(thumbprint,unencryptedMessage){return __awaiter(void 0,void 0,void 0,(function(){var cadesplugin,cadesCertificate;return __generator(this,(function(_a){switch(_a.label){case 0:return cadesplugin=window.cadesplugin,[4,_getCadesCert_1._getCadesCert(thumbprint)];case 1:return cadesCertificate=_a.sent(),unencryptedMessage=decodeURIComponent(atob(unencryptedMessage).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join("")),[2,eval(_generateCadesFn_1._generateCadesFn((function(){var e,n,r;try{e=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CAdESCOM.CPSigner"),n=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CAdESCOM.SignedXML")}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при инициализации подписи")}try{_generateCadesFn_1.__cadesAsyncToken__,e.propset_Certificate(cadesCertificate),_generateCadesFn_1.__cadesAsyncToken__,e.propset_CheckCertificate(!1),_generateCadesFn_1.__cadesAsyncToken__,e.propset_Options(cadesplugin.CAPICOM_CERTIFICATE_INCLUDE_END_ENTITY_ONLY),_generateCadesFn_1.__cadesAsyncToken__,n.propset_Content(unencryptedMessage),_generateCadesFn_1.__cadesAsyncToken__,n.propset_SignatureType(cadesplugin.CADESCOM_XML_SIGNATURE_TYPE_ENVELOPED|cadesplugin.CADESCOM_XADES_BES)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при указании данных для подписи")}try{r=_generateCadesFn_1.__cadesAsyncToken__+n.Sign(e)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при подписании данных")}return btoa(encodeURIComponent(r).replace(/%([0-9A-F]{2})/g,(function(e,n){return String.fromCharCode(parseInt("0x"+n,16))})))})))]}}))}))}))},function(module,exports,__webpack_require__){"use strict";var __awaiter=this&&this.__awaiter||function(e,n,r,t){return new(r||(r=Promise))((function(a,_){function o(e){try{i(t.next(e))}catch(e){_(e)}}function s(e){try{i(t.throw(e))}catch(e){_(e)}}function i(e){var n;e.done?a(e.value):(n=e.value,n instanceof r?n:new r((function(e){e(n)}))).then(o,s)}i((t=t.apply(e,n||[])).next())}))},__generator=this&&this.__generator||function(e,n){var r,t,a,_,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return _={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(_[Symbol.iterator]=function(){return this}),_;function s(_){return function(s){return function(_){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,t&&(a=2&_[0]?t.return:_[0]?t.throw||((a=t.return)&&a.call(t),0):t.next)&&!(a=a.call(t,_[1])).done)return a;switch(t=0,a&&(_=[2&_[0],a.value]),_[0]){case 0:case 1:a=_;break;case 4:return o.label++,{value:_[1],done:!1};case 5:o.label++,t=_[1],_=[0];continue;case 7:_=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==_[0]&&2!==_[0])){o=0;continue}if(3===_[0]&&(!a||_[1]>a[0]&&_[1]<a[3])){o.label=_[1];break}if(6===_[0]&&o.label<a[1]){o.label=a[1],a=_;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(_);break}a[2]&&o.ops.pop(),o.trys.pop();continue}_=n.call(e,o)}catch(e){_=[6,e],t=0}finally{r=a=0}if(5&_[0])throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}([_,s])}}};Object.defineProperty(exports,"__esModule",{value:!0});var _afterPluginsLoaded_1=__webpack_require__(0),_extractMeaningfulErrorMessage_1=__webpack_require__(1),_generateCadesFn_1=__webpack_require__(2),_getCadesCert_1=__webpack_require__(3);exports.createXadesXsltSignature=_afterPluginsLoaded_1._afterPluginsLoaded((function(thumbprint,unencryptedMessage,xsltSchemaMessage){return __awaiter(void 0,void 0,void 0,(function(){var cadesplugin,cadesCertificate,sContent;return __generator(this,(function(_a){switch(_a.label){case 0:return cadesplugin=window.cadesplugin,[4,_getCadesCert_1._getCadesCert(thumbprint)];case 1:return cadesCertificate=_a.sent(),sContent='\n<a>\n    <b>Text 1</b>\n    <b>Text 2</b>\n    <c>Comment</c>\n    <ds:Signature xmlns:ds="http://www.w3.org/2000/09/xmldsig#" Id="base64-content-signature">\n        <ds:SignedInfo>\n            <ds:CanonicalizationMethod Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#"/>\n            <ds:SignatureMethod Algorithm="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34102012-gostr34112012-256"/>\n            <ds:Reference URI="">\n                <ds:Transforms>\n                    <ds:Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature"/>\n                    <ds:Transform Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315#WithComments"/>\n\x3c!--                    <ds:Transform Algorithm="http://www.w3.org/TR/1999/REC-xpath-19991116">--\x3e\n\x3c!--                       <ds:XPath>ancestor-or-self::b</ds:XPath>--\x3e\n\x3c!--                    </ds:Transform>--\x3e\n                    <ds:Transform Algorithm="http://www.w3.org/TR/1999/REC-xslt-19991116">\n                         <ds:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">\n                            <xsl:output method="text"/>\n                            <xsl:template match="/">\n                                wow\n                            </xsl:template>\n                         </ds:stylesheet>\n                     </ds:Transform>\n                </ds:Transforms>\n                <ds:DigestMethod Algorithm="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34112012-256"/>\n                <ds:DigestValue/>\n            </ds:Reference>\n        </ds:SignedInfo>\n        <ds:SignatureValue/>\n        <ds:KeyInfo/>\n    </ds:Signature>\n</a>',console.log("wow"),[2,eval(_generateCadesFn_1._generateCadesFn((function(){var e,n,r;try{e=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CAdESCOM.CPSigner"),n=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CAdESCOM.SignedXML")}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при инициализации подписи")}try{_generateCadesFn_1.__cadesAsyncToken__,e.propset_Certificate(cadesCertificate),_generateCadesFn_1.__cadesAsyncToken__,e.propset_CheckCertificate(!1),_generateCadesFn_1.__cadesAsyncToken__,e.propset_Options(cadesplugin.CAPICOM_CERTIFICATE_INCLUDE_END_ENTITY_ONLY),_generateCadesFn_1.__cadesAsyncToken__,n.propset_Content(sContent),_generateCadesFn_1.__cadesAsyncToken__,n.propset_SignatureType(cadesplugin.CADESCOM_XML_SIGNATURE_TYPE_TEMPLATE|cadesplugin.CADESCOM_XADES_BES)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при указании данных для подписи")}try{r=_generateCadesFn_1.__cadesAsyncToken__+n.Sign(e),console.log(r)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при подписании данных")}try{_generateCadesFn_1.__cadesAsyncToken__,n.Verify(r),console.log("ok")}catch(e){console.log("Failed to verify signature. Error: "+cadesplugin.getLastError(e))}return btoa(encodeURIComponent(r).replace(/%([0-9A-F]{2})/g,(function(e,n){return String.fromCharCode(parseInt("0x"+n,16))})))})))]}}))}))}))},function(module,exports,__webpack_require__){"use strict";var __awaiter=this&&this.__awaiter||function(e,n,r,t){return new(r||(r=Promise))((function(a,_){function o(e){try{i(t.next(e))}catch(e){_(e)}}function s(e){try{i(t.throw(e))}catch(e){_(e)}}function i(e){var n;e.done?a(e.value):(n=e.value,n instanceof r?n:new r((function(e){e(n)}))).then(o,s)}i((t=t.apply(e,n||[])).next())}))},__generator=this&&this.__generator||function(e,n){var r,t,a,_,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return _={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(_[Symbol.iterator]=function(){return this}),_;function s(_){return function(s){return function(_){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,t&&(a=2&_[0]?t.return:_[0]?t.throw||((a=t.return)&&a.call(t),0):t.next)&&!(a=a.call(t,_[1])).done)return a;switch(t=0,a&&(_=[2&_[0],a.value]),_[0]){case 0:case 1:a=_;break;case 4:return o.label++,{value:_[1],done:!1};case 5:o.label++,t=_[1],_=[0];continue;case 7:_=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==_[0]&&2!==_[0])){o=0;continue}if(3===_[0]&&(!a||_[1]>a[0]&&_[1]<a[3])){o.label=_[1];break}if(6===_[0]&&o.label<a[1]){o.label=a[1],a=_;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(_);break}a[2]&&o.ops.pop(),o.trys.pop();continue}_=n.call(e,o)}catch(e){_=[6,e],t=0}finally{r=a=0}if(5&_[0])throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}([_,s])}}};Object.defineProperty(exports,"__esModule",{value:!0});var _afterPluginsLoaded_1=__webpack_require__(0),_extractMeaningfulErrorMessage_1=__webpack_require__(1),_generateCadesFn_1=__webpack_require__(2),_getCadesCert_1=__webpack_require__(3),uuid=function(){var e,n,r="";for(e=0;e<32;e++)n=16*Math.random()|0,8!=e&&12!=e&&16!=e&&20!=e||(r+="-"),r+=(12==e?4:16==e?3&n|8:n).toString(16);return r};exports.createXPathTransformSignature=_afterPluginsLoaded_1._afterPluginsLoaded((function(thumbprint,unencryptedMessage,xPathSchemaMessage,advanced){return __awaiter(void 0,void 0,void 0,(function(){var cadesplugin,cadesCertificate,signatureTemplate,parsedXml,templateXml;return __generator(this,(function(_a){switch(_a.label){case 0:return cadesplugin=window.cadesplugin,[4,_getCadesCert_1._getCadesCert(thumbprint)];case 1:return cadesCertificate=_a.sent(),unencryptedMessage=decodeURIComponent(atob(unencryptedMessage).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join("")),xPathSchemaMessage=decodeURIComponent(atob(xPathSchemaMessage).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join("")),signatureTemplate='<ds:Signature xmlns:ds="http://www.w3.org/2000/09/xmldsig#" Id="'+uuid()+'">\n    <ds:SignedInfo>\n        <ds:CanonicalizationMethod Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#"/>\n        <ds:SignatureMethod Algorithm="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34102012-gostr34112012-256"/>\n        <ds:Reference URI="">\n            <ds:Transforms>\n                <ds:Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature"/>\n                <ds:Transform Algorithm="http://www.w3.org/TR/1999/REC-xpath-19991116">\n                    <ds:XPath>'+xPathSchemaMessage+'</ds:XPath>\n                </ds:Transform>\n            </ds:Transforms>\n        <ds:DigestMethod Algorithm="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34112012-256"/>\n        <ds:DigestValue/>\n        </ds:Reference>\n</ds:SignedInfo>\n<ds:SignatureValue/>\n<ds:KeyInfo/>\n</ds:Signature>',parsedXml=(new DOMParser).parseFromString(unencryptedMessage,"text/xml"),parsedXml.documentElement.append(signatureTemplate),templateXml=(new XMLSerializer).serializeToString(parsedXml).replace(/&lt;/g,"<").replace(/&gt;/g,">"),[2,eval(_generateCadesFn_1._generateCadesFn((function(){var e,n;try{e=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CAdESCOM.CPSigner"),n=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CAdESCOM.SignedXML")}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при инициализации подписи")}var r,t=cadesplugin.CADESCOM_XML_SIGNATURE_TYPE_TEMPLATE;advanced&&(t|=cadesplugin.CADESCOM_XADES_BES);try{_generateCadesFn_1.__cadesAsyncToken__,e.propset_Certificate(cadesCertificate),_generateCadesFn_1.__cadesAsyncToken__,e.propset_CheckCertificate(!1),_generateCadesFn_1.__cadesAsyncToken__,e.propset_Options(cadesplugin.CAPICOM_CERTIFICATE_INCLUDE_END_ENTITY_ONLY),_generateCadesFn_1.__cadesAsyncToken__,n.propset_Content(templateXml),_generateCadesFn_1.__cadesAsyncToken__,n.propset_SignatureType(t)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при указании данных для подписи")}try{r=_generateCadesFn_1.__cadesAsyncToken__+n.Sign(e),console.log(r)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при подписании данных")}try{_generateCadesFn_1.__cadesAsyncToken__,n.Verify(r),console.log("ok")}catch(e){console.log("Failed to verify signature. Error: "+cadesplugin.getLastError(e))}return btoa(encodeURIComponent(r).replace(/%([0-9A-F]{2})/g,(function(e,n){return String.fromCharCode(parseInt("0x"+n,16))})))})))]}}))}))}))},function(module,exports,__webpack_require__){"use strict";var __awaiter=this&&this.__awaiter||function(e,n,r,t){return new(r||(r=Promise))((function(a,_){function o(e){try{i(t.next(e))}catch(e){_(e)}}function s(e){try{i(t.throw(e))}catch(e){_(e)}}function i(e){var n;e.done?a(e.value):(n=e.value,n instanceof r?n:new r((function(e){e(n)}))).then(o,s)}i((t=t.apply(e,n||[])).next())}))},__generator=this&&this.__generator||function(e,n){var r,t,a,_,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return _={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(_[Symbol.iterator]=function(){return this}),_;function s(_){return function(s){return function(_){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,t&&(a=2&_[0]?t.return:_[0]?t.throw||((a=t.return)&&a.call(t),0):t.next)&&!(a=a.call(t,_[1])).done)return a;switch(t=0,a&&(_=[2&_[0],a.value]),_[0]){case 0:case 1:a=_;break;case 4:return o.label++,{value:_[1],done:!1};case 5:o.label++,t=_[1],_=[0];continue;case 7:_=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==_[0]&&2!==_[0])){o=0;continue}if(3===_[0]&&(!a||_[1]>a[0]&&_[1]<a[3])){o.label=_[1];break}if(6===_[0]&&o.label<a[1]){o.label=a[1],a=_;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(_);break}a[2]&&o.ops.pop(),o.trys.pop();continue}_=n.call(e,o)}catch(e){_=[6,e],t=0}finally{r=a=0}if(5&_[0])throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}([_,s])}}};Object.defineProperty(exports,"__esModule",{value:!0});var _afterPluginsLoaded_1=__webpack_require__(0),_extractMeaningfulErrorMessage_1=__webpack_require__(1),_generateCadesFn_1=__webpack_require__(2),_getCadesCert_1=__webpack_require__(3);exports.createXadesXPathFilter2Signature=_afterPluginsLoaded_1._afterPluginsLoaded((function(thumbprint,unencryptedMessage,xsltSchemaMessage){return __awaiter(void 0,void 0,void 0,(function(){var cadesplugin,cadesCertificate,sContent;return __generator(this,(function(_a){switch(_a.label){case 0:return cadesplugin=window.cadesplugin,[4,_getCadesCert_1._getCadesCert(thumbprint)];case 1:return cadesCertificate=_a.sent(),sContent='\n<a>\n    <b>Text 1</b>\n    <b>Text 2</b>\n    <c>Comment</c>\n    <ds:Signature xmlns:dsig-xpath="http://www.w3.org/2002/06/xmldsig-filter2" xmlns:ds="http://www.w3.org/2000/09/xmldsig#" Id="base64-content-signature">\n        <ds:SignedInfo>\n            <ds:CanonicalizationMethod Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#"/>\n            <ds:SignatureMethod Algorithm="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34102012-gostr34112012-256"/>\n            <ds:Reference URI="">\n                <ds:Transforms>\n                    <ds:Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature"/>\n                    <ds:Transform Algorithm="http://www.w3.org/2002/06/xmldsig-filter2">\n                        <dsig-xpath:XPath Filter="subtract"> //b </dsig-xpath:XPath>\n                    </ds:Transform>\n                </ds:Transforms>\n                <ds:DigestMethod Algorithm="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34112012-256"/>\n                <ds:DigestValue/>\n            </ds:Reference>\n        </ds:SignedInfo>\n        <ds:SignatureValue/>\n        <ds:KeyInfo/>\n    </ds:Signature>\n</a>',console.log("wow2"),[2,eval(_generateCadesFn_1._generateCadesFn((function(){var e,n,r;try{e=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CAdESCOM.CPSigner"),n=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CAdESCOM.SignedXML")}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при инициализации подписи")}try{_generateCadesFn_1.__cadesAsyncToken__,e.propset_Certificate(cadesCertificate),_generateCadesFn_1.__cadesAsyncToken__,e.propset_CheckCertificate(!1),_generateCadesFn_1.__cadesAsyncToken__,e.propset_Options(cadesplugin.CAPICOM_CERTIFICATE_INCLUDE_END_ENTITY_ONLY),_generateCadesFn_1.__cadesAsyncToken__,n.propset_Content(sContent),_generateCadesFn_1.__cadesAsyncToken__,n.propset_SignatureType(cadesplugin.CADESCOM_XML_SIGNATURE_TYPE_TEMPLATE|cadesplugin.CADESCOM_XADES_BES)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при указании данных для подписи")}try{r=_generateCadesFn_1.__cadesAsyncToken__+n.Sign(e),console.log(r)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при подписании данных")}try{_generateCadesFn_1.__cadesAsyncToken__,n.Verify(r),console.log("ok")}catch(e){console.log("Failed to verify signature. Error: "+cadesplugin.getLastError(e))}return btoa(encodeURIComponent(r).replace(/%([0-9A-F]{2})/g,(function(e,n){return String.fromCharCode(parseInt("0x"+n,16))})))})))]}}))}))}))},function(module,exports,__webpack_require__){"use strict";var __awaiter=this&&this.__awaiter||function(e,n,r,t){return new(r||(r=Promise))((function(a,_){function o(e){try{i(t.next(e))}catch(e){_(e)}}function s(e){try{i(t.throw(e))}catch(e){_(e)}}function i(e){var n;e.done?a(e.value):(n=e.value,n instanceof r?n:new r((function(e){e(n)}))).then(o,s)}i((t=t.apply(e,n||[])).next())}))},__generator=this&&this.__generator||function(e,n){var r,t,a,_,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return _={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(_[Symbol.iterator]=function(){return this}),_;function s(_){return function(s){return function(_){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,t&&(a=2&_[0]?t.return:_[0]?t.throw||((a=t.return)&&a.call(t),0):t.next)&&!(a=a.call(t,_[1])).done)return a;switch(t=0,a&&(_=[2&_[0],a.value]),_[0]){case 0:case 1:a=_;break;case 4:return o.label++,{value:_[1],done:!1};case 5:o.label++,t=_[1],_=[0];continue;case 7:_=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==_[0]&&2!==_[0])){o=0;continue}if(3===_[0]&&(!a||_[1]>a[0]&&_[1]<a[3])){o.label=_[1];break}if(6===_[0]&&o.label<a[1]){o.label=a[1],a=_;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(_);break}a[2]&&o.ops.pop(),o.trys.pop();continue}_=n.call(e,o)}catch(e){_=[6,e],t=0}finally{r=a=0}if(5&_[0])throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}([_,s])}}};Object.defineProperty(exports,"__esModule",{value:!0});var _afterPluginsLoaded_1=__webpack_require__(0),_extractMeaningfulErrorMessage_1=__webpack_require__(1),_generateCadesFn_1=__webpack_require__(2),_getCadesCert_1=__webpack_require__(3);exports.createPKCS7Signature=_afterPluginsLoaded_1._afterPluginsLoaded((function(thumbprint,unencryptedMessage,detached){return __awaiter(void 0,void 0,void 0,(function(){var cadesplugin,cadesCertificate;return __generator(this,(function(_a){switch(_a.label){case 0:return cadesplugin=window.cadesplugin,[4,_getCadesCert_1._getCadesCert(thumbprint)];case 1:return cadesCertificate=_a.sent(),[2,eval(_generateCadesFn_1._generateCadesFn((function(){var e,n,r;try{e=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CAdESCOM.CPSigner"),n=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CAdESCOM.CadesSignedData")}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при инициализации подписи")}try{_generateCadesFn_1.__cadesAsyncToken__,e.propset_Certificate(cadesCertificate),_generateCadesFn_1.__cadesAsyncToken__,e.propset_CheckCertificate(!1),_generateCadesFn_1.__cadesAsyncToken__,e.propset_Options(cadesplugin.CAPICOM_CERTIFICATE_INCLUDE_END_ENTITY_ONLY),_generateCadesFn_1.__cadesAsyncToken__,n.propset_ContentEncoding(cadesplugin.CADESCOM_BASE64_TO_BINARY),_generateCadesFn_1.__cadesAsyncToken__,n.propset_Content(unencryptedMessage)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при указании данных для подписи")}try{r=_generateCadesFn_1.__cadesAsyncToken__+n.SignCades(e,cadesplugin.CADESCOM_PKCS7_TYPE,detached)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при подписании данных")}return r})))]}}))}))}))},function(module,exports,__webpack_require__){"use strict";var __awaiter=this&&this.__awaiter||function(e,n,r,t){return new(r||(r=Promise))((function(a,_){function o(e){try{i(t.next(e))}catch(e){_(e)}}function s(e){try{i(t.throw(e))}catch(e){_(e)}}function i(e){var n;e.done?a(e.value):(n=e.value,n instanceof r?n:new r((function(e){e(n)}))).then(o,s)}i((t=t.apply(e,n||[])).next())}))},__generator=this&&this.__generator||function(e,n){var r,t,a,_,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return _={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(_[Symbol.iterator]=function(){return this}),_;function s(_){return function(s){return function(_){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,t&&(a=2&_[0]?t.return:_[0]?t.throw||((a=t.return)&&a.call(t),0):t.next)&&!(a=a.call(t,_[1])).done)return a;switch(t=0,a&&(_=[2&_[0],a.value]),_[0]){case 0:case 1:a=_;break;case 4:return o.label++,{value:_[1],done:!1};case 5:o.label++,t=_[1],_=[0];continue;case 7:_=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==_[0]&&2!==_[0])){o=0;continue}if(3===_[0]&&(!a||_[1]>a[0]&&_[1]<a[3])){o.label=_[1];break}if(6===_[0]&&o.label<a[1]){o.label=a[1],a=_;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(_);break}a[2]&&o.ops.pop(),o.trys.pop();continue}_=n.call(e,o)}catch(e){_=[6,e],t=0}finally{r=a=0}if(5&_[0])throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}([_,s])}}};Object.defineProperty(exports,"__esModule",{value:!0});var _afterPluginsLoaded_1=__webpack_require__(0),_extractMeaningfulErrorMessage_1=__webpack_require__(1),_generateCadesFn_1=__webpack_require__(2),_getCadesCert_1=__webpack_require__(3);exports.createXMLDSigTemplateSignature=_afterPluginsLoaded_1._afterPluginsLoaded((function(thumbprint,unencryptedMessage){return __awaiter(void 0,void 0,void 0,(function(){var cadesplugin,cadesCertificate;return __generator(this,(function(_a){switch(_a.label){case 0:return cadesplugin=window.cadesplugin,[4,_getCadesCert_1._getCadesCert(thumbprint)];case 1:return cadesCertificate=_a.sent(),[2,eval(_generateCadesFn_1._generateCadesFn((function(){var e,n,r,t='<?xml version="1.0" encoding="UTF-8"?>\n<s:Envelope xmlns:s="http://schemas.xmlsoap.org/soap/envelope/">\n    <s:Body>\n        <Document xml:id="documentContent">\n            '+unencryptedMessage+'\n        </Document>\n    </s:Body>\n    <ds:Signature xmlns:ds="http://www.w3.org/2000/09/xmldsig#" Id="Signature1-bd693fe01-0beb-8cc1-28a3-8b798f95ec6">\n        <ds:SignedInfo>\n            <ds:CanonicalizationMethod Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#"/>\n            <ds:SignatureMethod Algorithm="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34102012-gostr34112012-256"/>\n            <ds:Reference URI="#documentContent">\n                <ds:Transforms>\n                    <ds:Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature"/>\n                </ds:Transforms>\n                <ds:DigestMethod Algorithm="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34112012-256"/>\n                <ds:DigestValue/>\n            </ds:Reference>\n        </ds:SignedInfo>\n        <ds:SignatureValue/>\n        <ds:KeyInfo/>\n    </ds:Signature>\n</s:Envelope>';try{e=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CAdESCOM.CPSigner"),n=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CAdESCOM.SignedXML")}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при инициализации подписи")}try{_generateCadesFn_1.__cadesAsyncToken__,e.propset_Certificate(cadesCertificate),_generateCadesFn_1.__cadesAsyncToken__,e.propset_CheckCertificate(!1),_generateCadesFn_1.__cadesAsyncToken__,e.propset_Options(cadesplugin.CAPICOM_CERTIFICATE_INCLUDE_END_ENTITY_ONLY),_generateCadesFn_1.__cadesAsyncToken__,n.propset_Content(t),_generateCadesFn_1.__cadesAsyncToken__,n.propset_SignatureType(cadesplugin.CADESCOM_XML_SIGNATURE_TYPE_TEMPLATE|cadesplugin.CADESCOM_XMLDSIG_TYPE)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при указании данных для подписи")}try{r=_generateCadesFn_1.__cadesAsyncToken__+n.Sign(e)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при подписании данных")}return btoa(encodeURIComponent(r).replace(/%([0-9A-F]{2})/g,(function(e,n){return String.fromCharCode(parseInt("0x"+n,16))})))})))]}}))}))}))},function(module,exports,__webpack_require__){"use strict";var __awaiter=this&&this.__awaiter||function(e,n,r,t){return new(r||(r=Promise))((function(a,_){function o(e){try{i(t.next(e))}catch(e){_(e)}}function s(e){try{i(t.throw(e))}catch(e){_(e)}}function i(e){var n;e.done?a(e.value):(n=e.value,n instanceof r?n:new r((function(e){e(n)}))).then(o,s)}i((t=t.apply(e,n||[])).next())}))},__generator=this&&this.__generator||function(e,n){var r,t,a,_,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return _={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(_[Symbol.iterator]=function(){return this}),_;function s(_){return function(s){return function(_){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,t&&(a=2&_[0]?t.return:_[0]?t.throw||((a=t.return)&&a.call(t),0):t.next)&&!(a=a.call(t,_[1])).done)return a;switch(t=0,a&&(_=[2&_[0],a.value]),_[0]){case 0:case 1:a=_;break;case 4:return o.label++,{value:_[1],done:!1};case 5:o.label++,t=_[1],_=[0];continue;case 7:_=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==_[0]&&2!==_[0])){o=0;continue}if(3===_[0]&&(!a||_[1]>a[0]&&_[1]<a[3])){o.label=_[1];break}if(6===_[0]&&o.label<a[1]){o.label=a[1],a=_;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(_);break}a[2]&&o.ops.pop(),o.trys.pop();continue}_=n.call(e,o)}catch(e){_=[6,e],t=0}finally{r=a=0}if(5&_[0])throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}([_,s])}}};Object.defineProperty(exports,"__esModule",{value:!0});var _afterPluginsLoaded_1=__webpack_require__(0),_extractMeaningfulErrorMessage_1=__webpack_require__(1),_generateCadesFn_1=__webpack_require__(2),_getCadesCert_1=__webpack_require__(3);exports.createXMLDSigSignature=_afterPluginsLoaded_1._afterPluginsLoaded((function(thumbprint,unencryptedMessage){return __awaiter(void 0,void 0,void 0,(function(){var cadesplugin,cadesCertificate;return __generator(this,(function(_a){switch(_a.label){case 0:return cadesplugin=window.cadesplugin,[4,_getCadesCert_1._getCadesCert(thumbprint)];case 1:return cadesCertificate=_a.sent(),unencryptedMessage=decodeURIComponent(atob(unencryptedMessage).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join("")),[2,eval(_generateCadesFn_1._generateCadesFn((function(){var e,n,r;try{e=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CAdESCOM.CPSigner"),n=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CAdESCOM.SignedXML")}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при инициализации подписи")}try{_generateCadesFn_1.__cadesAsyncToken__,e.propset_Certificate(cadesCertificate),_generateCadesFn_1.__cadesAsyncToken__,e.propset_CheckCertificate(!1),_generateCadesFn_1.__cadesAsyncToken__,e.propset_Options(cadesplugin.CAPICOM_CERTIFICATE_INCLUDE_END_ENTITY_ONLY),_generateCadesFn_1.__cadesAsyncToken__,n.propset_Content(unencryptedMessage),_generateCadesFn_1.__cadesAsyncToken__,n.propset_SignatureType(cadesplugin.CADESCOM_XML_SIGNATURE_TYPE_ENVELOPED|cadesplugin.CADESCOM_XMLDSIG_TYPE)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при указании данных для подписи")}try{r=_generateCadesFn_1.__cadesAsyncToken__+n.Sign(e)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при подписании данных")}return btoa(encodeURIComponent(r).replace(/%([0-9A-F]{2})/g,(function(e,n){return String.fromCharCode(parseInt("0x"+n,16))})))})))]}}))}))}))},function(module,exports,__webpack_require__){"use strict";var __awaiter=this&&this.__awaiter||function(e,n,r,t){return new(r||(r=Promise))((function(a,_){function o(e){try{i(t.next(e))}catch(e){_(e)}}function s(e){try{i(t.throw(e))}catch(e){_(e)}}function i(e){var n;e.done?a(e.value):(n=e.value,n instanceof r?n:new r((function(e){e(n)}))).then(o,s)}i((t=t.apply(e,n||[])).next())}))},__generator=this&&this.__generator||function(e,n){var r,t,a,_,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return _={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(_[Symbol.iterator]=function(){return this}),_;function s(_){return function(s){return function(_){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,t&&(a=2&_[0]?t.return:_[0]?t.throw||((a=t.return)&&a.call(t),0):t.next)&&!(a=a.call(t,_[1])).done)return a;switch(t=0,a&&(_=[2&_[0],a.value]),_[0]){case 0:case 1:a=_;break;case 4:return o.label++,{value:_[1],done:!1};case 5:o.label++,t=_[1],_=[0];continue;case 7:_=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==_[0]&&2!==_[0])){o=0;continue}if(3===_[0]&&(!a||_[1]>a[0]&&_[1]<a[3])){o.label=_[1];break}if(6===_[0]&&o.label<a[1]){o.label=a[1],a=_;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(_);break}a[2]&&o.ops.pop(),o.trys.pop();continue}_=n.call(e,o)}catch(e){_=[6,e],t=0}finally{r=a=0}if(5&_[0])throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}([_,s])}}};Object.defineProperty(exports,"__esModule",{value:!0});var constants_1=__webpack_require__(4),_afterPluginsLoaded_1=__webpack_require__(0),_extractMeaningfulErrorMessage_1=__webpack_require__(1),_generateCadesFn_1=__webpack_require__(2),_getCadesCert_1=__webpack_require__(3),_getDateObj_1=__webpack_require__(10);exports.createDetachedSignature=_afterPluginsLoaded_1._afterPluginsLoaded((function(thumbprint,messageHash){return __awaiter(void 0,void 0,void 0,(function(){var cadesplugin,cadesCertificate;return __generator(this,(function(_a){switch(_a.label){case 0:return cadesplugin=window.cadesplugin,[4,_getCadesCert_1._getCadesCert(thumbprint)];case 1:return cadesCertificate=_a.sent(),[2,eval(_generateCadesFn_1._generateCadesFn((function(){var e,n,r,t;try{e=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CADESCOM.CPAttribute"),n=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CAdESCOM.HashedData"),r=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CAdESCOM.CadesSignedData"),t=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CAdESCOM.CPSigner")}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при инициализации подписи")}var a,_,o=_getDateObj_1._getDateObj(new Date);try{_generateCadesFn_1.__cadesAsyncToken__,e.propset_Name(constants_1.CADESCOM_AUTHENTICATED_ATTRIBUTE_SIGNING_TIME),_generateCadesFn_1.__cadesAsyncToken__,e.propset_Value(o)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при установке времени подписи")}try{_generateCadesFn_1.__cadesAsyncToken__,t.propset_Certificate(cadesCertificate),a=_generateCadesFn_1.__cadesAsyncToken__+t.AuthenticatedAttributes2,_generateCadesFn_1.__cadesAsyncToken__,a.Add(e),_generateCadesFn_1.__cadesAsyncToken__,t.propset_Options(cadesplugin.CAPICOM_CERTIFICATE_INCLUDE_WHOLE_CHAIN)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при установке сертификата")}try{_generateCadesFn_1.__cadesAsyncToken__,n.propset_Algorithm(cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256),_generateCadesFn_1.__cadesAsyncToken__,n.SetHashValue(messageHash)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при установке хеша")}try{_=_generateCadesFn_1.__cadesAsyncToken__+r.SignHash(n,t,cadesplugin.CADESCOM_PKCS7_TYPE)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при подписании данных")}return _})))]}}))}))}))},function(module,exports,__webpack_require__){"use strict";var __awaiter=this&&this.__awaiter||function(e,n,r,t){return new(r||(r=Promise))((function(a,_){function o(e){try{i(t.next(e))}catch(e){_(e)}}function s(e){try{i(t.throw(e))}catch(e){_(e)}}function i(e){var n;e.done?a(e.value):(n=e.value,n instanceof r?n:new r((function(e){e(n)}))).then(o,s)}i((t=t.apply(e,n||[])).next())}))},__generator=this&&this.__generator||function(e,n){var r,t,a,_,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return _={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(_[Symbol.iterator]=function(){return this}),_;function s(_){return function(s){return function(_){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,t&&(a=2&_[0]?t.return:_[0]?t.throw||((a=t.return)&&a.call(t),0):t.next)&&!(a=a.call(t,_[1])).done)return a;switch(t=0,a&&(_=[2&_[0],a.value]),_[0]){case 0:case 1:a=_;break;case 4:return o.label++,{value:_[1],done:!1};case 5:o.label++,t=_[1],_=[0];continue;case 7:_=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==_[0]&&2!==_[0])){o=0;continue}if(3===_[0]&&(!a||_[1]>a[0]&&_[1]<a[3])){o.label=_[1];break}if(6===_[0]&&o.label<a[1]){o.label=a[1],a=_;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(_);break}a[2]&&o.ops.pop(),o.trys.pop();continue}_=n.call(e,o)}catch(e){_=[6,e],t=0}finally{r=a=0}if(5&_[0])throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}([_,s])}}};Object.defineProperty(exports,"__esModule",{value:!0});var _afterPluginsLoaded_1=__webpack_require__(0),_extractMeaningfulErrorMessage_1=__webpack_require__(1),_generateCadesFn_1=__webpack_require__(2),_getCadesCert_1=__webpack_require__(3);exports.createCMSSignature=_afterPluginsLoaded_1._afterPluginsLoaded((function(thumbprint,unencryptedMessage,detached){return __awaiter(void 0,void 0,void 0,(function(){var cadesplugin,cadesCertificate;return __generator(this,(function(_a){switch(_a.label){case 0:return cadesplugin=window.cadesplugin,[4,_getCadesCert_1._getCadesCert(thumbprint)];case 1:return cadesCertificate=_a.sent(),[2,eval(_generateCadesFn_1._generateCadesFn((function(){var e,n,r;try{e=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CAdESCOM.CPSigner"),n=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CAdESCOM.CadesSignedData")}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при инициализации подписи")}try{_generateCadesFn_1.__cadesAsyncToken__,e.propset_Certificate(cadesCertificate),_generateCadesFn_1.__cadesAsyncToken__,e.propset_CheckCertificate(!1),_generateCadesFn_1.__cadesAsyncToken__,e.propset_Options(cadesplugin.CAPICOM_CERTIFICATE_INCLUDE_END_ENTITY_ONLY),_generateCadesFn_1.__cadesAsyncToken__,n.propset_ContentEncoding(cadesplugin.CADESCOM_BASE64_TO_BINARY),_generateCadesFn_1.__cadesAsyncToken__,n.propset_Content(unencryptedMessage)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при указании данных для подписи")}try{r=_generateCadesFn_1.__cadesAsyncToken__+n.SignCades(e,cadesplugin.CADESCOM_CADES_BES,detached)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при подписании данных")}try{_generateCadesFn_1.__cadesAsyncToken__,n.VerifyCades(r,cadesplugin.CADESCOM_CADES_BES,detached)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при проверке подписанных данных")}return r})))]}}))}))}))},function(module,exports,__webpack_require__){"use strict";var __awaiter=this&&this.__awaiter||function(e,n,r,t){return new(r||(r=Promise))((function(a,_){function o(e){try{i(t.next(e))}catch(e){_(e)}}function s(e){try{i(t.throw(e))}catch(e){_(e)}}function i(e){var n;e.done?a(e.value):(n=e.value,n instanceof r?n:new r((function(e){e(n)}))).then(o,s)}i((t=t.apply(e,n||[])).next())}))},__generator=this&&this.__generator||function(e,n){var r,t,a,_,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return _={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(_[Symbol.iterator]=function(){return this}),_;function s(_){return function(s){return function(_){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,t&&(a=2&_[0]?t.return:_[0]?t.throw||((a=t.return)&&a.call(t),0):t.next)&&!(a=a.call(t,_[1])).done)return a;switch(t=0,a&&(_=[2&_[0],a.value]),_[0]){case 0:case 1:a=_;break;case 4:return o.label++,{value:_[1],done:!1};case 5:o.label++,t=_[1],_=[0];continue;case 7:_=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==_[0]&&2!==_[0])){o=0;continue}if(3===_[0]&&(!a||_[1]>a[0]&&_[1]<a[3])){o.label=_[1];break}if(6===_[0]&&o.label<a[1]){o.label=a[1],a=_;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(_);break}a[2]&&o.ops.pop(),o.trys.pop();continue}_=n.call(e,o)}catch(e){_=[6,e],t=0}finally{r=a=0}if(5&_[0])throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}([_,s])}}};Object.defineProperty(exports,"__esModule",{value:!0});var _afterPluginsLoaded_1=__webpack_require__(0),_extractMeaningfulErrorMessage_1=__webpack_require__(1),_generateCadesFn_1=__webpack_require__(2),_getCadesCert_1=__webpack_require__(3),_reverseString_1=__webpack_require__(47),_convertHexToBase64_1=__webpack_require__(48);exports.createRawSignature=_afterPluginsLoaded_1._afterPluginsLoaded((function(thumbprint,signedInfo){return __awaiter(void 0,void 0,void 0,(function(){var cadesplugin,cadesCertificate;return __generator(this,(function(_a){switch(_a.label){case 0:return cadesplugin=window.cadesplugin,[4,_getCadesCert_1._getCadesCert(thumbprint)];case 1:return cadesCertificate=_a.sent(),[2,eval(_generateCadesFn_1._generateCadesFn((function(){var e,n,r;try{e=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CAdESCOM.RawSignature"),n=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CAdESCOM.HashedData")}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при инициализации хеширования")}try{_generateCadesFn_1.__cadesAsyncToken__,n.propset_Algorithm(cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256),_generateCadesFn_1.__cadesAsyncToken__,n.propset_DataEncoding(cadesplugin.CADESCOM_BASE64_TO_BINARY),_generateCadesFn_1.__cadesAsyncToken__,n.Hash(signedInfo)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при указании данных для хеширования")}try{r=_generateCadesFn_1.__cadesAsyncToken__+e.SignHash(n,cadesCertificate)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при подписании данных")}return _convertHexToBase64_1._convertHexToBase64(_reverseString_1._reverseStr(r))})))]}}))}))}))},function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n._reverseStr=function(e){for(var n="",r=e.length-1;r>=1;r-=2)n+=e.charAt(r-1),n+=e.charAt(r);return n}},function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n._convertHexToBase64=function(e){return btoa(e.match(/\w{2}/g).map((function(e){return String.fromCharCode(parseInt(e,16))})).join(""))}},function(module,exports,__webpack_require__){"use strict";(function(Buffer){var __awaiter=this&&this.__awaiter||function(e,n,r,t){return new(r||(r=Promise))((function(a,_){function o(e){try{i(t.next(e))}catch(e){_(e)}}function s(e){try{i(t.throw(e))}catch(e){_(e)}}function i(e){var n;e.done?a(e.value):(n=e.value,n instanceof r?n:new r((function(e){e(n)}))).then(o,s)}i((t=t.apply(e,n||[])).next())}))},__generator=this&&this.__generator||function(e,n){var r,t,a,_,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return _={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(_[Symbol.iterator]=function(){return this}),_;function s(_){return function(s){return function(_){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,t&&(a=2&_[0]?t.return:_[0]?t.throw||((a=t.return)&&a.call(t),0):t.next)&&!(a=a.call(t,_[1])).done)return a;switch(t=0,a&&(_=[2&_[0],a.value]),_[0]){case 0:case 1:a=_;break;case 4:return o.label++,{value:_[1],done:!1};case 5:o.label++,t=_[1],_=[0];continue;case 7:_=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==_[0]&&2!==_[0])){o=0;continue}if(3===_[0]&&(!a||_[1]>a[0]&&_[1]<a[3])){o.label=_[1];break}if(6===_[0]&&o.label<a[1]){o.label=a[1],a=_;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(_);break}a[2]&&o.ops.pop(),o.trys.pop();continue}_=n.call(e,o)}catch(e){_=[6,e],t=0}finally{r=a=0}if(5&_[0])throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}([_,s])}}};Object.defineProperty(exports,"__esModule",{value:!0});var _afterPluginsLoaded_1=__webpack_require__(0),_extractMeaningfulErrorMessage_1=__webpack_require__(1),_generateCadesFn_1=__webpack_require__(2);exports.createHash=_afterPluginsLoaded_1._afterPluginsLoaded((function(unencryptedMessage){return __awaiter(void 0,void 0,void 0,(function(){var cadesplugin;return __generator(this,(function(_a){return cadesplugin=window.cadesplugin,[2,eval(_generateCadesFn_1._generateCadesFn((function(){var e,n,r=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CAdESCOM.HashedData");try{e=Buffer.from(unencryptedMessage).toString("base64")}catch(e){throw console.error(e),new Error("Ошибка при преобразовании сообщения в Base64")}try{_generateCadesFn_1.__cadesAsyncToken__,r.propset_Algorithm(cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256),_generateCadesFn_1.__cadesAsyncToken__,r.propset_DataEncoding(cadesplugin.CADESCOM_BASE64_TO_BINARY),_generateCadesFn_1.__cadesAsyncToken__,r.Hash(e)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при инициализации хэширования")}try{n=_generateCadesFn_1.__cadesAsyncToken__+r.Value}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при создании хэша")}return n})))]}))}))}))}).call(this,__webpack_require__(50).Buffer)},function(e,n,r){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var t=r(52),a=r(53),_=r(54);function o(){return i.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,n){if(o()<n)throw new RangeError("Invalid typed array length");return i.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(n)).__proto__=i.prototype:(null===e&&(e=new i(n)),e.length=n),e}function i(e,n,r){if(!(i.TYPED_ARRAY_SUPPORT||this instanceof i))return new i(e,n,r);if("number"==typeof e){if("string"==typeof n)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return c(this,e,n,r)}function c(e,n,r,t){if("number"==typeof n)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer?function(e,n,r,t){if(n.byteLength,r<0||n.byteLength<r)throw new RangeError("'offset' is out of bounds");if(n.byteLength<r+(t||0))throw new RangeError("'length' is out of bounds");n=void 0===r&&void 0===t?new Uint8Array(n):void 0===t?new Uint8Array(n,r):new Uint8Array(n,r,t);i.TYPED_ARRAY_SUPPORT?(e=n).__proto__=i.prototype:e=d(e,n);return e}(e,n,r,t):"string"==typeof n?function(e,n,r){"string"==typeof r&&""!==r||(r="utf8");if(!i.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var t=0|f(n,r),a=(e=s(e,t)).write(n,r);a!==t&&(e=e.slice(0,a));return e}(e,n,r):function(e,n){if(i.isBuffer(n)){var r=0|g(n.length);return 0===(e=s(e,r)).length||n.copy(e,0,0,r),e}if(n){if("undefined"!=typeof ArrayBuffer&&n.buffer instanceof ArrayBuffer||"length"in n)return"number"!=typeof n.length||(t=n.length)!=t?s(e,0):d(e,n);if("Buffer"===n.type&&_(n.data))return d(e,n.data)}var t;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,n)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,n){if(u(n),e=s(e,n<0?0:0|g(n)),!i.TYPED_ARRAY_SUPPORT)for(var r=0;r<n;++r)e[r]=0;return e}function d(e,n){var r=n.length<0?0:0|g(n.length);e=s(e,r);for(var t=0;t<r;t+=1)e[t]=255&n[t];return e}function g(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function f(e,n){if(i.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var t=!1;;)switch(n){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return B(e).length;default:if(t)return H(e).length;n=(""+n).toLowerCase(),t=!0}}function p(e,n,r){var t=!1;if((void 0===n||n<0)&&(n=0),n>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(n>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return m(this,n,r);case"utf8":case"utf-8":return S(this,n,r);case"ascii":return I(this,n,r);case"latin1":case"binary":return v(this,n,r);case"base64":return O(this,n,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,n,r);default:if(t)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),t=!0}}function C(e,n,r){var t=e[n];e[n]=e[r],e[r]=t}function h(e,n,r,t,a){if(0===e.length)return-1;if("string"==typeof r?(t=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=a?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(a)return-1;r=e.length-1}else if(r<0){if(!a)return-1;r=0}if("string"==typeof n&&(n=i.from(n,t)),i.isBuffer(n))return 0===n.length?-1:E(e,n,r,t,a);if("number"==typeof n)return n&=255,i.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(e,n,r):Uint8Array.prototype.lastIndexOf.call(e,n,r):E(e,[n],r,t,a);throw new TypeError("val must be string, number or Buffer")}function E(e,n,r,t,a){var _,o=1,s=e.length,i=n.length;if(void 0!==t&&("ucs2"===(t=String(t).toLowerCase())||"ucs-2"===t||"utf16le"===t||"utf-16le"===t)){if(e.length<2||n.length<2)return-1;o=2,s/=2,i/=2,r/=2}function c(e,n){return 1===o?e[n]:e.readUInt16BE(n*o)}if(a){var u=-1;for(_=r;_<s;_++)if(c(e,_)===c(n,-1===u?0:_-u)){if(-1===u&&(u=_),_-u+1===i)return u*o}else-1!==u&&(_-=_-u),u=-1}else for(r+i>s&&(r=s-i),_=r;_>=0;_--){for(var l=!0,d=0;d<i;d++)if(c(e,_+d)!==c(n,d)){l=!1;break}if(l)return _}return-1}function A(e,n,r,t){r=Number(r)||0;var a=e.length-r;t?(t=Number(t))>a&&(t=a):t=a;var _=n.length;if(_%2!=0)throw new TypeError("Invalid hex string");t>_/2&&(t=_/2);for(var o=0;o<t;++o){var s=parseInt(n.substr(2*o,2),16);if(isNaN(s))return o;e[r+o]=s}return o}function w(e,n,r,t){return j(H(n,e.length-r),e,r,t)}function y(e,n,r,t){return j(function(e){for(var n=[],r=0;r<e.length;++r)n.push(255&e.charCodeAt(r));return n}(n),e,r,t)}function M(e,n,r,t){return y(e,n,r,t)}function T(e,n,r,t){return j(B(n),e,r,t)}function b(e,n,r,t){return j(function(e,n){for(var r,t,a,_=[],o=0;o<e.length&&!((n-=2)<0);++o)r=e.charCodeAt(o),t=r>>8,a=r%256,_.push(a),_.push(t);return _}(n,e.length-r),e,r,t)}function O(e,n,r){return 0===n&&r===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(n,r))}function S(e,n,r){r=Math.min(e.length,r);for(var t=[],a=n;a<r;){var _,o,s,i,c=e[a],u=null,l=c>239?4:c>223?3:c>191?2:1;if(a+l<=r)switch(l){case 1:c<128&&(u=c);break;case 2:128==(192&(_=e[a+1]))&&(i=(31&c)<<6|63&_)>127&&(u=i);break;case 3:_=e[a+1],o=e[a+2],128==(192&_)&&128==(192&o)&&(i=(15&c)<<12|(63&_)<<6|63&o)>2047&&(i<55296||i>57343)&&(u=i);break;case 4:_=e[a+1],o=e[a+2],s=e[a+3],128==(192&_)&&128==(192&o)&&128==(192&s)&&(i=(15&c)<<18|(63&_)<<12|(63&o)<<6|63&s)>65535&&i<1114112&&(u=i)}null===u?(u=65533,l=1):u>65535&&(u-=65536,t.push(u>>>10&1023|55296),u=56320|1023&u),t.push(u),a+=l}return function(e){var n=e.length;if(n<=4096)return String.fromCharCode.apply(String,e);var r="",t=0;for(;t<n;)r+=String.fromCharCode.apply(String,e.slice(t,t+=4096));return r}(t)}n.Buffer=i,n.SlowBuffer=function(e){+e!=e&&(e=0);return i.alloc(+e)},n.INSPECT_MAX_BYTES=50,i.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),n.kMaxLength=o(),i.poolSize=8192,i._augment=function(e){return e.__proto__=i.prototype,e},i.from=function(e,n,r){return c(null,e,n,r)},i.TYPED_ARRAY_SUPPORT&&(i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0})),i.alloc=function(e,n,r){return function(e,n,r,t){return u(n),n<=0?s(e,n):void 0!==r?"string"==typeof t?s(e,n).fill(r,t):s(e,n).fill(r):s(e,n)}(null,e,n,r)},i.allocUnsafe=function(e){return l(null,e)},i.allocUnsafeSlow=function(e){return l(null,e)},i.isBuffer=function(e){return!(null==e||!e._isBuffer)},i.compare=function(e,n){if(!i.isBuffer(e)||!i.isBuffer(n))throw new TypeError("Arguments must be Buffers");if(e===n)return 0;for(var r=e.length,t=n.length,a=0,_=Math.min(r,t);a<_;++a)if(e[a]!==n[a]){r=e[a],t=n[a];break}return r<t?-1:t<r?1:0},i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(e,n){if(!_(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return i.alloc(0);var r;if(void 0===n)for(n=0,r=0;r<e.length;++r)n+=e[r].length;var t=i.allocUnsafe(n),a=0;for(r=0;r<e.length;++r){var o=e[r];if(!i.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(t,a),a+=o.length}return t},i.byteLength=f,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var n=0;n<e;n+=2)C(this,n,n+1);return this},i.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var n=0;n<e;n+=4)C(this,n,n+3),C(this,n+1,n+2);return this},i.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var n=0;n<e;n+=8)C(this,n,n+7),C(this,n+1,n+6),C(this,n+2,n+5),C(this,n+3,n+4);return this},i.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?S(this,0,e):p.apply(this,arguments)},i.prototype.equals=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===i.compare(this,e)},i.prototype.inspect=function(){var e="",r=n.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},i.prototype.compare=function(e,n,r,t,a){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===n&&(n=0),void 0===r&&(r=e?e.length:0),void 0===t&&(t=0),void 0===a&&(a=this.length),n<0||r>e.length||t<0||a>this.length)throw new RangeError("out of range index");if(t>=a&&n>=r)return 0;if(t>=a)return-1;if(n>=r)return 1;if(this===e)return 0;for(var _=(a>>>=0)-(t>>>=0),o=(r>>>=0)-(n>>>=0),s=Math.min(_,o),c=this.slice(t,a),u=e.slice(n,r),l=0;l<s;++l)if(c[l]!==u[l]){_=c[l],o=u[l];break}return _<o?-1:o<_?1:0},i.prototype.includes=function(e,n,r){return-1!==this.indexOf(e,n,r)},i.prototype.indexOf=function(e,n,r){return h(this,e,n,r,!0)},i.prototype.lastIndexOf=function(e,n,r){return h(this,e,n,r,!1)},i.prototype.write=function(e,n,r,t){if(void 0===n)t="utf8",r=this.length,n=0;else if(void 0===r&&"string"==typeof n)t=n,r=this.length,n=0;else{if(!isFinite(n))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");n|=0,isFinite(r)?(r|=0,void 0===t&&(t="utf8")):(t=r,r=void 0)}var a=this.length-n;if((void 0===r||r>a)&&(r=a),e.length>0&&(r<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");t||(t="utf8");for(var _=!1;;)switch(t){case"hex":return A(this,e,n,r);case"utf8":case"utf-8":return w(this,e,n,r);case"ascii":return y(this,e,n,r);case"latin1":case"binary":return M(this,e,n,r);case"base64":return T(this,e,n,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b(this,e,n,r);default:if(_)throw new TypeError("Unknown encoding: "+t);t=(""+t).toLowerCase(),_=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function I(e,n,r){var t="";r=Math.min(e.length,r);for(var a=n;a<r;++a)t+=String.fromCharCode(127&e[a]);return t}function v(e,n,r){var t="";r=Math.min(e.length,r);for(var a=n;a<r;++a)t+=String.fromCharCode(e[a]);return t}function m(e,n,r){var t=e.length;(!n||n<0)&&(n=0),(!r||r<0||r>t)&&(r=t);for(var a="",_=n;_<r;++_)a+=G(e[_]);return a}function P(e,n,r){for(var t=e.slice(n,r),a="",_=0;_<t.length;_+=2)a+=String.fromCharCode(t[_]+256*t[_+1]);return a}function x(e,n,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+n>r)throw new RangeError("Trying to access beyond buffer length")}function R(e,n,r,t,a,_){if(!i.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>a||n<_)throw new RangeError('"value" argument is out of bounds');if(r+t>e.length)throw new RangeError("Index out of range")}function D(e,n,r,t){n<0&&(n=65535+n+1);for(var a=0,_=Math.min(e.length-r,2);a<_;++a)e[r+a]=(n&255<<8*(t?a:1-a))>>>8*(t?a:1-a)}function N(e,n,r,t){n<0&&(n=4294967295+n+1);for(var a=0,_=Math.min(e.length-r,4);a<_;++a)e[r+a]=n>>>8*(t?a:3-a)&255}function F(e,n,r,t,a,_){if(r+t>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function k(e,n,r,t,_){return _||F(e,0,r,4),a.write(e,n,r,t,23,4),r+4}function L(e,n,r,t,_){return _||F(e,0,r,8),a.write(e,n,r,t,52,8),r+8}i.prototype.slice=function(e,n){var r,t=this.length;if((e=~~e)<0?(e+=t)<0&&(e=0):e>t&&(e=t),(n=void 0===n?t:~~n)<0?(n+=t)<0&&(n=0):n>t&&(n=t),n<e&&(n=e),i.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,n)).__proto__=i.prototype;else{var a=n-e;r=new i(a,void 0);for(var _=0;_<a;++_)r[_]=this[_+e]}return r},i.prototype.readUIntLE=function(e,n,r){e|=0,n|=0,r||x(e,n,this.length);for(var t=this[e],a=1,_=0;++_<n&&(a*=256);)t+=this[e+_]*a;return t},i.prototype.readUIntBE=function(e,n,r){e|=0,n|=0,r||x(e,n,this.length);for(var t=this[e+--n],a=1;n>0&&(a*=256);)t+=this[e+--n]*a;return t},i.prototype.readUInt8=function(e,n){return n||x(e,1,this.length),this[e]},i.prototype.readUInt16LE=function(e,n){return n||x(e,2,this.length),this[e]|this[e+1]<<8},i.prototype.readUInt16BE=function(e,n){return n||x(e,2,this.length),this[e]<<8|this[e+1]},i.prototype.readUInt32LE=function(e,n){return n||x(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},i.prototype.readUInt32BE=function(e,n){return n||x(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},i.prototype.readIntLE=function(e,n,r){e|=0,n|=0,r||x(e,n,this.length);for(var t=this[e],a=1,_=0;++_<n&&(a*=256);)t+=this[e+_]*a;return t>=(a*=128)&&(t-=Math.pow(2,8*n)),t},i.prototype.readIntBE=function(e,n,r){e|=0,n|=0,r||x(e,n,this.length);for(var t=n,a=1,_=this[e+--t];t>0&&(a*=256);)_+=this[e+--t]*a;return _>=(a*=128)&&(_-=Math.pow(2,8*n)),_},i.prototype.readInt8=function(e,n){return n||x(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},i.prototype.readInt16LE=function(e,n){n||x(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},i.prototype.readInt16BE=function(e,n){n||x(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},i.prototype.readInt32LE=function(e,n){return n||x(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},i.prototype.readInt32BE=function(e,n){return n||x(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},i.prototype.readFloatLE=function(e,n){return n||x(e,4,this.length),a.read(this,e,!0,23,4)},i.prototype.readFloatBE=function(e,n){return n||x(e,4,this.length),a.read(this,e,!1,23,4)},i.prototype.readDoubleLE=function(e,n){return n||x(e,8,this.length),a.read(this,e,!0,52,8)},i.prototype.readDoubleBE=function(e,n){return n||x(e,8,this.length),a.read(this,e,!1,52,8)},i.prototype.writeUIntLE=function(e,n,r,t){(e=+e,n|=0,r|=0,t)||R(this,e,n,r,Math.pow(2,8*r)-1,0);var a=1,_=0;for(this[n]=255&e;++_<r&&(a*=256);)this[n+_]=e/a&255;return n+r},i.prototype.writeUIntBE=function(e,n,r,t){(e=+e,n|=0,r|=0,t)||R(this,e,n,r,Math.pow(2,8*r)-1,0);var a=r-1,_=1;for(this[n+a]=255&e;--a>=0&&(_*=256);)this[n+a]=e/_&255;return n+r},i.prototype.writeUInt8=function(e,n,r){return e=+e,n|=0,r||R(this,e,n,1,255,0),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[n]=255&e,n+1},i.prototype.writeUInt16LE=function(e,n,r){return e=+e,n|=0,r||R(this,e,n,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8):D(this,e,n,!0),n+2},i.prototype.writeUInt16BE=function(e,n,r){return e=+e,n|=0,r||R(this,e,n,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=255&e):D(this,e,n,!1),n+2},i.prototype.writeUInt32LE=function(e,n,r){return e=+e,n|=0,r||R(this,e,n,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[n+3]=e>>>24,this[n+2]=e>>>16,this[n+1]=e>>>8,this[n]=255&e):N(this,e,n,!0),n+4},i.prototype.writeUInt32BE=function(e,n,r){return e=+e,n|=0,r||R(this,e,n,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e):N(this,e,n,!1),n+4},i.prototype.writeIntLE=function(e,n,r,t){if(e=+e,n|=0,!t){var a=Math.pow(2,8*r-1);R(this,e,n,r,a-1,-a)}var _=0,o=1,s=0;for(this[n]=255&e;++_<r&&(o*=256);)e<0&&0===s&&0!==this[n+_-1]&&(s=1),this[n+_]=(e/o>>0)-s&255;return n+r},i.prototype.writeIntBE=function(e,n,r,t){if(e=+e,n|=0,!t){var a=Math.pow(2,8*r-1);R(this,e,n,r,a-1,-a)}var _=r-1,o=1,s=0;for(this[n+_]=255&e;--_>=0&&(o*=256);)e<0&&0===s&&0!==this[n+_+1]&&(s=1),this[n+_]=(e/o>>0)-s&255;return n+r},i.prototype.writeInt8=function(e,n,r){return e=+e,n|=0,r||R(this,e,n,1,127,-128),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[n]=255&e,n+1},i.prototype.writeInt16LE=function(e,n,r){return e=+e,n|=0,r||R(this,e,n,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8):D(this,e,n,!0),n+2},i.prototype.writeInt16BE=function(e,n,r){return e=+e,n|=0,r||R(this,e,n,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=255&e):D(this,e,n,!1),n+2},i.prototype.writeInt32LE=function(e,n,r){return e=+e,n|=0,r||R(this,e,n,4,2147483647,-2147483648),i.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8,this[n+2]=e>>>16,this[n+3]=e>>>24):N(this,e,n,!0),n+4},i.prototype.writeInt32BE=function(e,n,r){return e=+e,n|=0,r||R(this,e,n,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),i.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e):N(this,e,n,!1),n+4},i.prototype.writeFloatLE=function(e,n,r){return k(this,e,n,!0,r)},i.prototype.writeFloatBE=function(e,n,r){return k(this,e,n,!1,r)},i.prototype.writeDoubleLE=function(e,n,r){return L(this,e,n,!0,r)},i.prototype.writeDoubleBE=function(e,n,r){return L(this,e,n,!1,r)},i.prototype.copy=function(e,n,r,t){if(r||(r=0),t||0===t||(t=this.length),n>=e.length&&(n=e.length),n||(n=0),t>0&&t<r&&(t=r),t===r)return 0;if(0===e.length||0===this.length)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(t<0)throw new RangeError("sourceEnd out of bounds");t>this.length&&(t=this.length),e.length-n<t-r&&(t=e.length-n+r);var a,_=t-r;if(this===e&&r<n&&n<t)for(a=_-1;a>=0;--a)e[a+n]=this[a+r];else if(_<1e3||!i.TYPED_ARRAY_SUPPORT)for(a=0;a<_;++a)e[a+n]=this[a+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+_),n);return _},i.prototype.fill=function(e,n,r,t){if("string"==typeof e){if("string"==typeof n?(t=n,n=0,r=this.length):"string"==typeof r&&(t=r,r=this.length),1===e.length){var a=e.charCodeAt(0);a<256&&(e=a)}if(void 0!==t&&"string"!=typeof t)throw new TypeError("encoding must be a string");if("string"==typeof t&&!i.isEncoding(t))throw new TypeError("Unknown encoding: "+t)}else"number"==typeof e&&(e&=255);if(n<0||this.length<n||this.length<r)throw new RangeError("Out of range index");if(r<=n)return this;var _;if(n>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(_=n;_<r;++_)this[_]=e;else{var o=i.isBuffer(e)?e:H(new i(e,t).toString()),s=o.length;for(_=0;_<r-n;++_)this[_+n]=o[_%s]}return this};var U=/[^+\/0-9A-Za-z-_]/g;function G(e){return e<16?"0"+e.toString(16):e.toString(16)}function H(e,n){var r;n=n||1/0;for(var t=e.length,a=null,_=[],o=0;o<t;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!a){if(r>56319){(n-=3)>-1&&_.push(239,191,189);continue}if(o+1===t){(n-=3)>-1&&_.push(239,191,189);continue}a=r;continue}if(r<56320){(n-=3)>-1&&_.push(239,191,189),a=r;continue}r=65536+(a-55296<<10|r-56320)}else a&&(n-=3)>-1&&_.push(239,191,189);if(a=null,r<128){if((n-=1)<0)break;_.push(r)}else if(r<2048){if((n-=2)<0)break;_.push(r>>6|192,63&r|128)}else if(r<65536){if((n-=3)<0)break;_.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((n-=4)<0)break;_.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return _}function B(e){return t.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(U,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function j(e,n,r,t){for(var a=0;a<t&&!(a+r>=n.length||a>=e.length);++a)n[a+r]=e[a];return a}}).call(this,r(51))},function(e,n){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,n,r){"use strict";n.byteLength=function(e){var n=c(e),r=n[0],t=n[1];return 3*(r+t)/4-t},n.toByteArray=function(e){var n,r,t=c(e),o=t[0],s=t[1],i=new _(function(e,n,r){return 3*(n+r)/4-r}(0,o,s)),u=0,l=s>0?o-4:o;for(r=0;r<l;r+=4)n=a[e.charCodeAt(r)]<<18|a[e.charCodeAt(r+1)]<<12|a[e.charCodeAt(r+2)]<<6|a[e.charCodeAt(r+3)],i[u++]=n>>16&255,i[u++]=n>>8&255,i[u++]=255&n;2===s&&(n=a[e.charCodeAt(r)]<<2|a[e.charCodeAt(r+1)]>>4,i[u++]=255&n);1===s&&(n=a[e.charCodeAt(r)]<<10|a[e.charCodeAt(r+1)]<<4|a[e.charCodeAt(r+2)]>>2,i[u++]=n>>8&255,i[u++]=255&n);return i},n.fromByteArray=function(e){for(var n,r=e.length,a=r%3,_=[],o=0,s=r-a;o<s;o+=16383)_.push(u(e,o,o+16383>s?s:o+16383));1===a?(n=e[r-1],_.push(t[n>>2]+t[n<<4&63]+"==")):2===a&&(n=(e[r-2]<<8)+e[r-1],_.push(t[n>>10]+t[n>>4&63]+t[n<<2&63]+"="));return _.join("")};for(var t=[],a=[],_="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,i=o.length;s<i;++s)t[s]=o[s],a[o.charCodeAt(s)]=s;function c(e){var n=e.length;if(n%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=n),[r,r===n?0:4-r%4]}function u(e,n,r){for(var a,_,o=[],s=n;s<r;s+=3)a=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(t[(_=a)>>18&63]+t[_>>12&63]+t[_>>6&63]+t[63&_]);return o.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},function(e,n){n.read=function(e,n,r,t,a){var _,o,s=8*a-t-1,i=(1<<s)-1,c=i>>1,u=-7,l=r?a-1:0,d=r?-1:1,g=e[n+l];for(l+=d,_=g&(1<<-u)-1,g>>=-u,u+=s;u>0;_=256*_+e[n+l],l+=d,u-=8);for(o=_&(1<<-u)-1,_>>=-u,u+=t;u>0;o=256*o+e[n+l],l+=d,u-=8);if(0===_)_=1-c;else{if(_===i)return o?NaN:1/0*(g?-1:1);o+=Math.pow(2,t),_-=c}return(g?-1:1)*o*Math.pow(2,_-t)},n.write=function(e,n,r,t,a,_){var o,s,i,c=8*_-a-1,u=(1<<c)-1,l=u>>1,d=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,g=t?0:_-1,f=t?1:-1,p=n<0||0===n&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(s=isNaN(n)?1:0,o=u):(o=Math.floor(Math.log(n)/Math.LN2),n*(i=Math.pow(2,-o))<1&&(o--,i*=2),(n+=o+l>=1?d/i:d*Math.pow(2,1-l))*i>=2&&(o++,i/=2),o+l>=u?(s=0,o=u):o+l>=1?(s=(n*i-1)*Math.pow(2,a),o+=l):(s=n*Math.pow(2,l-1)*Math.pow(2,a),o=0));a>=8;e[r+g]=255&s,g+=f,s/=256,a-=8);for(o=o<<a|s,c+=a;c>0;e[r+g]=255&o,g+=f,o/=256,c-=8);e[r+g-f]|=128*p}},function(e,n){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,n,r){"use strict";var t=this&&this.__awaiter||function(e,n,r,t){return new(r||(r=Promise))((function(a,_){function o(e){try{i(t.next(e))}catch(e){_(e)}}function s(e){try{i(t.throw(e))}catch(e){_(e)}}function i(e){var n;e.done?a(e.value):(n=e.value,n instanceof r?n:new r((function(e){e(n)}))).then(o,s)}i((t=t.apply(e,n||[])).next())}))},a=this&&this.__generator||function(e,n){var r,t,a,_,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return _={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(_[Symbol.iterator]=function(){return this}),_;function s(_){return function(s){return function(_){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,t&&(a=2&_[0]?t.return:_[0]?t.throw||((a=t.return)&&a.call(t),0):t.next)&&!(a=a.call(t,_[1])).done)return a;switch(t=0,a&&(_=[2&_[0],a.value]),_[0]){case 0:case 1:a=_;break;case 4:return o.label++,{value:_[1],done:!1};case 5:o.label++,t=_[1],_=[0];continue;case 7:_=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==_[0]&&2!==_[0])){o=0;continue}if(3===_[0]&&(!a||_[1]>a[0]&&_[1]<a[3])){o.label=_[1];break}if(6===_[0]&&o.label<a[1]){o.label=a[1],a=_;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(_);break}a[2]&&o.ops.pop(),o.trys.pop();continue}_=n.call(e,o)}catch(e){_=[6,e],t=0}finally{r=a=0}if(5&_[0])throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}([_,s])}}};Object.defineProperty(n,"__esModule",{value:!0});var _=r(1);n.CheckExtensionLoaded=function(){return t(void 0,void 0,void 0,(function(){var e,n;return a(this,(function(t){switch(t.label){case 0:try{r(5)}catch(e){throw console.error(e),new Error(_._extractMeaningfulErrorMessage(e)||"Ошибка при подключении модуля для работы с Cades plugin")}if(e=window.cadesplugin,window.cadesplugin_extension_loaded_callback=function(){window.onload=function(){window.cadesplugin_extension_loaded=!0},window.cadesplugin_extension_loaded=!0},!e)throw new Error("Не подключен модуль для работы с Cades plugin");t.label=1;case 1:return t.trys.push([1,3,,4]),[4,e];case 2:return t.sent(),[2,window.cadesplugin_extension_loaded];case 3:throw n=t.sent(),console.error(n),window.cadesplugin=void 0,new Error(_._extractMeaningfulErrorMessage(n)||"Ошибка при инициализации модуля для работы с Cades plugin");case 4:return[2]}}))}))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extractMeaningfulErrorMessage_1=__webpack_require__(1),_afterPluginsLoaded_1=__webpack_require__(0),_generateCadesFn_1=__webpack_require__(2);exports.CheckPluginLoaded=_afterPluginsLoaded_1._afterPluginsLoaded((function(){return eval(_generateCadesFn_1._generateCadesFn((function(){var e;try{e=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CAdESCOM.About");var n=_generateCadesFn_1.__cadesAsyncToken__+e.PluginVersion;return _generateCadesFn_1.__cadesAsyncToken__+n.MajorVersion+"."+(_generateCadesFn_1.__cadesAsyncToken__+n.MinorVersion)+"."+(_generateCadesFn_1.__cadesAsyncToken__+n.BuildVersion)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при получении информации о системе")}})))}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _afterPluginsLoaded_1=__webpack_require__(0),_generateCadesFn_1=__webpack_require__(2),_extractMeaningfulErrorMessage_1=__webpack_require__(1);exports.CheckProviderLoaded=_afterPluginsLoaded_1._afterPluginsLoaded((function(){return eval(_generateCadesFn_1._generateCadesFn((function(){var e;try{e=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CAdESCOM.About");var n=_generateCadesFn_1.__cadesAsyncToken__+e.CSPVersion("",80);return _generateCadesFn_1.__cadesAsyncToken__+n.MajorVersion+"."+(_generateCadesFn_1.__cadesAsyncToken__+n.MinorVersion)+"."+(_generateCadesFn_1.__cadesAsyncToken__+n.BuildVersion)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при получении информации о системе")}})))}))},function(module,exports,__webpack_require__){"use strict";var __awaiter=this&&this.__awaiter||function(e,n,r,t){return new(r||(r=Promise))((function(a,_){function o(e){try{i(t.next(e))}catch(e){_(e)}}function s(e){try{i(t.throw(e))}catch(e){_(e)}}function i(e){var n;e.done?a(e.value):(n=e.value,n instanceof r?n:new r((function(e){e(n)}))).then(o,s)}i((t=t.apply(e,n||[])).next())}))},__generator=this&&this.__generator||function(e,n){var r,t,a,_,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return _={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(_[Symbol.iterator]=function(){return this}),_;function s(_){return function(s){return function(_){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,t&&(a=2&_[0]?t.return:_[0]?t.throw||((a=t.return)&&a.call(t),0):t.next)&&!(a=a.call(t,_[1])).done)return a;switch(t=0,a&&(_=[2&_[0],a.value]),_[0]){case 0:case 1:a=_;break;case 4:return o.label++,{value:_[1],done:!1};case 5:o.label++,t=_[1],_=[0];continue;case 7:_=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==_[0]&&2!==_[0])){o=0;continue}if(3===_[0]&&(!a||_[1]>a[0]&&_[1]<a[3])){o.label=_[1];break}if(6===_[0]&&o.label<a[1]){o.label=a[1],a=_;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(_);break}a[2]&&o.ops.pop(),o.trys.pop();continue}_=n.call(e,o)}catch(e){_=[6,e],t=0}finally{r=a=0}if(5&_[0])throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}([_,s])}}};Object.defineProperty(exports,"__esModule",{value:!0});var _afterPluginsLoaded_1=__webpack_require__(0),_generateCadesFn_1=__webpack_require__(2),_extractMeaningfulErrorMessage_1=__webpack_require__(1);exports.checkXMLSignature=_afterPluginsLoaded_1._afterPluginsLoaded((function(signature){return __awaiter(void 0,void 0,void 0,(function(){return __generator(this,(function(_a){return[2,eval(_generateCadesFn_1._generateCadesFn((function(){var e;try{e=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CAdESCOM.SignedXML")}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при инициализации подписи")}try{_generateCadesFn_1.__cadesAsyncToken__,e.Verify(signature)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при проверке подписанных данных")}})))]}))}))}))},function(module,exports,__webpack_require__){"use strict";var __awaiter=this&&this.__awaiter||function(e,n,r,t){return new(r||(r=Promise))((function(a,_){function o(e){try{i(t.next(e))}catch(e){_(e)}}function s(e){try{i(t.throw(e))}catch(e){_(e)}}function i(e){var n;e.done?a(e.value):(n=e.value,n instanceof r?n:new r((function(e){e(n)}))).then(o,s)}i((t=t.apply(e,n||[])).next())}))},__generator=this&&this.__generator||function(e,n){var r,t,a,_,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return _={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(_[Symbol.iterator]=function(){return this}),_;function s(_){return function(s){return function(_){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,t&&(a=2&_[0]?t.return:_[0]?t.throw||((a=t.return)&&a.call(t),0):t.next)&&!(a=a.call(t,_[1])).done)return a;switch(t=0,a&&(_=[2&_[0],a.value]),_[0]){case 0:case 1:a=_;break;case 4:return o.label++,{value:_[1],done:!1};case 5:o.label++,t=_[1],_=[0];continue;case 7:_=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==_[0]&&2!==_[0])){o=0;continue}if(3===_[0]&&(!a||_[1]>a[0]&&_[1]<a[3])){o.label=_[1];break}if(6===_[0]&&o.label<a[1]){o.label=a[1],a=_;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(_);break}a[2]&&o.ops.pop(),o.trys.pop();continue}_=n.call(e,o)}catch(e){_=[6,e],t=0}finally{r=a=0}if(5&_[0])throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}([_,s])}}};Object.defineProperty(exports,"__esModule",{value:!0});var _afterPluginsLoaded_1=__webpack_require__(0),_generateCadesFn_1=__webpack_require__(2),_extractMeaningfulErrorMessage_1=__webpack_require__(1);exports.checkCMSSignature=_afterPluginsLoaded_1._afterPluginsLoaded((function(signature,unencryptedMessage,detached){return __awaiter(void 0,void 0,void 0,(function(){return __generator(this,(function(_a){return[2,eval(_generateCadesFn_1._generateCadesFn((function(){var e;try{e=_generateCadesFn_1.__cadesAsyncToken__+_generateCadesFn_1.__createCadesPluginObject__("CAdESCOM.CadesSignedData")}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при инициализации подписи")}_generateCadesFn_1.__cadesAsyncToken__,e.propset_ContentEncoding(cadesplugin.CADESCOM_BASE64_TO_BINARY),_generateCadesFn_1.__cadesAsyncToken__,e.propset_Content(unencryptedMessage);try{_generateCadesFn_1.__cadesAsyncToken__,e.VerifyCades(signature,cadesplugin.CADESCOM_CADES_BES,detached)}catch(e){throw console.error(e),new Error(_extractMeaningfulErrorMessage_1._extractMeaningfulErrorMessage(e)||"Ошибка при проверке подписанных данных")}})))]}))}))}))},function(e,n,r){"use strict";var t=this&&this.__awaiter||function(e,n,r,t){return new(r||(r=Promise))((function(a,_){function o(e){try{i(t.next(e))}catch(e){_(e)}}function s(e){try{i(t.throw(e))}catch(e){_(e)}}function i(e){var n;e.done?a(e.value):(n=e.value,n instanceof r?n:new r((function(e){e(n)}))).then(o,s)}i((t=t.apply(e,n||[])).next())}))},a=this&&this.__generator||function(e,n){var r,t,a,_,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return _={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(_[Symbol.iterator]=function(){return this}),_;function s(_){return function(s){return function(_){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,t&&(a=2&_[0]?t.return:_[0]?t.throw||((a=t.return)&&a.call(t),0):t.next)&&!(a=a.call(t,_[1])).done)return a;switch(t=0,a&&(_=[2&_[0],a.value]),_[0]){case 0:case 1:a=_;break;case 4:return o.label++,{value:_[1],done:!1};case 5:o.label++,t=_[1],_=[0];continue;case 7:_=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==_[0]&&2!==_[0])){o=0;continue}if(3===_[0]&&(!a||_[1]>a[0]&&_[1]<a[3])){o.label=_[1];break}if(6===_[0]&&o.label<a[1]){o.label=a[1],a=_;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(_);break}a[2]&&o.ops.pop(),o.trys.pop();continue}_=n.call(e,o)}catch(e){_=[6,e],t=0}finally{r=a=0}if(5&_[0])throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}([_,s])}}};Object.defineProperty(n,"__esModule",{value:!0});var _=r(0),o=r(1),s=r(2);n.execute=_._afterPluginsLoaded((function(e){return t(void 0,void 0,void 0,(function(){return a(this,(function(n){switch(n.label){case 0:return[4,e({cadesplugin:window.cadesplugin,_generateCadesFn:s._generateCadesFn,__cadesAsyncToken__:s.__cadesAsyncToken__,__createCadesPluginObject__:s.__createCadesPluginObject__,_extractMeaningfulErrorMessage:o._extractMeaningfulErrorMessage})];case 1:return[2,n.sent()]}}))}))}))}])}));
//# sourceMappingURL=crypto-pro-enhanced.min.js.map